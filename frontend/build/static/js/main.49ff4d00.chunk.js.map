{"version":3,"sources":["api/UserServiceApi.js","api/LocationServiceApi.js","components/header.jsx","components/landingBodyComponents/overview.jsx","components/landingBodyComponents/cars.jsx","components/landingBodyComponents/faqs.jsx","components/landingBody.jsx","components/landing.jsx","components/signup.jsx","components/login.jsx","components/map.jsx","AuthenticatedRoute.jsx","components/staffComponents/staffDashboard.jsx","StaffRoute.jsx","components/locationShow.jsx","components/footer.jsx","Constants.js","api/BookingServiceApi.js","components/bookingComponents/bookingConfirmDetails.jsx","components/bookingComponents/filterCars.jsx","components/bookingComponents/bookingDashboard.jsx","components/bookingComponents/myBookings.jsx","components/bookingComponents/bookingDetails.jsx","components/myProfile.jsx","components/staffComponents/overview.jsx","components/adminComponents/adminSignup.jsx","components/staffComponents/createCar.jsx","components/staffComponents/createLocation.jsx","components/staffComponents/viewAllCustomers.jsx","components/staffComponents/viewCustomer.jsx","components/staffComponents/modifyCustomerDetails.jsx","components/staffComponents/viewAllBookings.jsx","components/staffComponents/viewBooking.jsx","components/staffComponents/viewCustomerBookings.jsx","components/staffComponents/viewAllCars.jsx","components/staffComponents/modifyCarDetails.jsx","components/staffComponents/viewAllLocations.jsx","components/staffComponents/ViewLocation.jsx","components/staffComponents/modifyLocationPage.jsx","App.js","serviceWorker.js","index.js","api/CarServiceApi.js"],"names":["api_url","process","server_url","TOKEN_SESSION_ATTRIBUTE_NAME","TOKEN_HEADER_LENGTH","UserServiceApi","axios","get","headers","authorization","this","getUserToken","id","email","post","newUser","creds","user","patch","_id","token","localStorage","setItem","setupAxiosInterceptors","getItem","jwt_decode","slice","interceptors","request","use","config","isUserLoggedIn","getLoggedInUserDetails","usertype","removeItem","window","location","href","require","LocationServiceApi","newLocation","address","api_key","REACT_APP_API_KEY","formatted_address","replace","create","Header","isUserStaff","Navbar","bg","expand","Brand","Toggle","aria-controls","Collapse","Nav","className","Link","NavItem","onClick","logout","Component","Overview","Container","fluid","style","marginTop","Row","Col","icon","faPiggyBank","size","faMoneyBill","faCar","faPhone","Button","Cars","props","state","cars","CarServiceApi","getAllCars","then","res","data","forEach","car","getLocationFromId","name","locationId","push","setState","map","CarDescriptionComponent","sm","src","image","alt","width","make","fueltype","bodytype","seats","colour","costperhour","Faqs","Accordion","AccordionCustom","eventKey","question","answer","Card","marginBottom","as","variant","Body","navWhenSelectedStyle","borderBottom","landingBody","component","event","target","innerHTML","activeKey","Item","handleClick","bind","RenderCorrectComponents","LandingPage","to","fontSize","SignUpPage","handleChange","value","handleSubmit","preventDefault","firstname","trim","lastname","password","errorMessage","test","String","toLowerCase","createNewUser","loginUser","registerSuccessfulLoginForJwt","catch","error","response","message","Alert","Heading","Form","onSubmit","Group","controlId","Label","column","Control","type","placeholder","onChange","required","pattern","title","span","offset","LoginPage","MapContainer","mapOnMarkerClick","marker","selectedPlace","activeMarker","showingInfoWindow","mapOnMapClick","locations","location_array","getAllLocations","element","getGeocodeFromAddress","object","lat","results","geometry","lng","height","google","initialCenter","zoom","position","onClose","onInfoWindowClose","visible","React","GoogleApiWrapper","apiKey","AuthenticatedRoute","FunctionSelectedStyle","color","FunctionNotSelectedStyle","StaffDashboard","currentLocation","pathname","isAdmin","isUserAdmin","margin","padding","maxWidth","md","paddingTop","children","StaffRoute","rest","render","matchProps","LocationShowPage","isLoading","location_id","match","url","split","newRes","locationObject","carId","getCar","Jumbotron","length","footer","CAR_COLOURS","CAR_BODY_TYPES","CAR_SEATS","CAR_FUEL_TYPES","booking","userId","bookingId","BookingConfirmDetailsPopUp","handleConfirmButton","newBooking","pickupTime","returnTime","getLoggedInUserID","BookingServiceApi","createBooking","handleCancelButton","togglePopUp","pickupTimeHours","Date","returnTimeHours","timeDeltaHours","getTime","parseInt","toFixed","cost","calculateBookingCost","FilterCarsPage","handleSubmitFilter","newFilter","availableCars","filterCars","popUp","selectedCar","history","locationArray","carSeat","carFuel","carBodyType","carColour","Table","striped","bordered","hover","BookingDashboard","newSearch","searchAvailableCars","updateCars","nextBooking","nextBookingExists","successHeader","successMsg","availablePickup","avaialbleReturn","handlePickupButton","handleReturnButton","status","modifyBooking","getNextBooking","Object","keys","currentTime","setMinutes","getMinutes","getTimezoneOffset","pickuptime","bookedtime","returntime","disabled","numberplate","MyBookingPage","bookings","getUsersBookings","checkBookingPast","userDetails","getUserBookings","reverse","BookingDetailsPage","getBookingDetails","getUserBooking","params","default","MyProfilePage","userData","overview","AdminSignUpPage","successMessage","selected","createCar","resetState","b64photo","handleFile","files","errMsg","reader","FileReader","readAsDataURL","onload","result","inputValidation","disableSubmit","newCar","createNewCar","err","console","log","locationList","concat","option","index","key","File","label","accept","CreateLocation","initMap","gmapsLoaded","handleAutocomplete","newLoc","createNewLocation","gmapScriptEl","document","createElement","querySelector","insertAdjacentElement","onSelect","handleSelect","getInputProps","suggestions","getSuggestionItemProps","loading","suggestion","active","backgroundColor","cursor","description","ViewAllCustomersPage","customers","getAllCustomers","customer","ViewCustomerPage","getUserFromId","ButtonGroup","ModifyCustomerDetailsPage","modifiedCustomer","modifyErrorMessage","checkEmailExistsPayload","checkEmailExists","exist","updateUser","fetchErrorMessage","ViewAllBookingsPage","getAllBookings","ViewBookingPage","getBooking","ViewCustomerBookingsPage","ViewAllCars","viewCarDetails","currentbooking","withRouter","ModifyCarDetails","carDetails","updateCar","scrollTop","scrollTo","top","behavior","ViewAllLocations","ViewLocation","errMessage","undefined","success","modifyLocationPage","updateLocation","App","exact","path","CreateCar","ModifyCarDetailsPage","ViewAllCarsPage","ModifyLocationPage","Boolean","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","search","filter"],"mappings":"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","file":"static/js/main.49ff4d00.chunk.js","sourcesContent":["/* User service APIs */\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\n\nconst api_url = process.env.server_url || \"http://localhost:3001/api/users\";\n\n// for user JWT storage\nexport const TOKEN_SESSION_ATTRIBUTE_NAME = 'token';\nexport const TOKEN_HEADER_LENGTH = 7;\n\nclass UserServiceApi {\n    getAllUsers() {\n        return axios.get(api_url);\n    }\n\n    getAllCustomers() {\n        return axios.get(api_url + '/customers', { headers: { authorization: this.getUserToken() } });\n    }\n\n    getUserFromId(id) {\n        return axios.get(`${api_url}/${id}`, { headers: { authorization: this.getUserToken() } });\n    }\n\n    checkEmailExists(email) {\n        return axios.post(`${api_url}/email`, email);\n    }\n\n    createNewUser(newUser) {\n        return axios.post(api_url, newUser);\n    }\n\n    loginUser(creds) {\n        return axios.post(`${api_url}/login`, creds);\n    }\n\n    updateUser(user) {\n        return axios.patch(`${api_url}/${user._id}`, user);\n    }\n\n    registerSuccessfulLoginForJwt(token) {\n        localStorage.setItem(TOKEN_SESSION_ATTRIBUTE_NAME, token);\n        this.setupAxiosInterceptors(token);\n    }\n\n    getLoggedInUserID() {\n        let token = localStorage.getItem(TOKEN_SESSION_ATTRIBUTE_NAME);\n        if (token === null) return '';\n        return jwt_decode(token.slice(TOKEN_HEADER_LENGTH)).id;\n    }\n\n    getLoggedInUserDetails() {\n        let token = localStorage.getItem(TOKEN_SESSION_ATTRIBUTE_NAME);\n        if (token === null) return '';\n        return jwt_decode(token.slice(TOKEN_HEADER_LENGTH));\n    }\n\n    getUserToken() {\n        let token = localStorage.getItem(TOKEN_SESSION_ATTRIBUTE_NAME);\n        if (token === null) return '';\n        return token.slice(TOKEN_HEADER_LENGTH);\n    }\n\n    setupAxiosInterceptors(token) {\n        axios.interceptors.request.use(\n            (config) => {\n                if (this.isUserLoggedIn()) {\n                    config.headers.authorization = token;\n                }\n                return config;\n            }\n        )\n    }\n\n    isUserLoggedIn() {\n        let user = localStorage.getItem(TOKEN_SESSION_ATTRIBUTE_NAME);\n        if (user === null) {\n            return false;\n        }\n        return true;\n    }\n\n    isUserStaff() {\n        let user = this.getLoggedInUserDetails();\n        if (user.usertype === \"admin\" || user.usertype === \"staff\") {\n            return true;\n        }\n        return false;\n    }\n\n    isUserAdmin() {\n        let user = this.getLoggedInUserDetails();\n        if (user.usertype === \"admin\") {\n            return true;\n        }\n        return false;\n    }\n\n    logout() {\n        localStorage.removeItem(TOKEN_SESSION_ATTRIBUTE_NAME);\n        window.location.href = `/`;\n    }\n}\n\nexport default new UserServiceApi();\n","/* Location service APIs */\nimport axios from 'axios';\nrequire('dotenv').config();\nconst api_url = process.env.server_url || \"http://localhost:3001/api/locations\";\n\nclass LocationServiceApi {\n    getAllLocations() {\n        return axios.get(api_url);\n    }\n\n    getLocationFromId(id) {\n        return axios.get(`${api_url}/${id}`);\n    }\n\n    createNewLocation(newLocation) {\n        return axios.post(api_url, newLocation);\n    }\n\n    getGeocodeFromAddress(address) {\n        const url = \"https://maps.googleapis.com/maps/api/geocode/json?address=&key=\";\n        const api_key = process.env.REACT_APP_API_KEY;\n        const formatted_address = address.replace(/ /g, \"+\");\n        const key_input = \"&key=\"\n        // create new axios instance without auth token for third party API\n        const axiosThirdParty = axios.create();\n        return axiosThirdParty.get(`${url + formatted_address + key_input + api_key}`);\n    }\n\n    updateLocation(location) {\n        return axios.patch(api_url + `/${location._id}`, location);\n    }\n}\n\nexport default new LocationServiceApi();\n","/* header component */\nimport React, { Component } from 'react';\nimport { Navbar, Nav, NavItem } from 'react-bootstrap';\nimport UserServiceApi from '../api/UserServiceApi';\n\nclass Header extends Component {\n    render() {\n        const isUserLoggedIn = UserServiceApi.isUserLoggedIn();\n        const isUserStaff = UserServiceApi.isUserStaff();\n        return (\n            <Navbar bg=\"light\" expand=\"lg\">\n                <Navbar.Brand href=\"/\">CaRental</Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <Nav className=\"container-fluid\">\n                        <Nav.Link href=\"/\">Home</Nav.Link>\n                        <Nav.Link href=\"/locations\">Locations</Nav.Link>\n                    {isUserLoggedIn &&\n                        <>\n                            {!isUserStaff && <Nav.Link href=\"/myprofile\">My Profile</Nav.Link>}\n                            {!isUserStaff && <Nav.Link href=\"/mybookings\">My Bookings</Nav.Link>}\n                            {!isUserStaff && <Nav.Link href=\"/dashboard\">Dashboard</Nav.Link>}\n                            {isUserStaff && <Nav.Link href=\"/staff\">Staff Dashboard</Nav.Link>}\n                        </>\n                    }\n                    {isUserLoggedIn &&\n                        <NavItem className=\"ml-auto\">\n                            <Nav.Link onClick={UserServiceApi.logout}>Logout</Nav.Link>\n                        </NavItem>\n                    }\n                    </Nav>\n                    <Nav>\n                        {!isUserLoggedIn &&\n                            <>\n                                <Nav.Link href=\"/signup\">Sign Up</Nav.Link>\n                                <Nav.Link href=\"/login\">Log in</Nav.Link>\n                            </>\n                        }\n                    </Nav>\n               </Navbar.Collapse>\n            </Navbar>\n        )\n    }\n}\n\nexport default Header;\n","/* Overview component in landing page */\nimport React, { Component } from 'react';\nimport { Container, Col, Row, Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPiggyBank, faCar, faPhone, faMoneyBill } from '@fortawesome/free-solid-svg-icons';\nimport '../../styles/overview.css';\n\nexport default class Overview extends Component {\n    render() {\n        return (\n            <section className=\"section-item\">\n                <div>\n                    <h2>Overview</h2>\n                    <Container fluid style={{ marginTop: '3vh' }}>\n                        <Row>\n                            <Col>\n                                <div className=\"how-it-works\">\n                                    <h3>Sign up</h3>\n                                    <p>Simply Sign up for free and Log in to our application</p>\n                                </div>\n                            </Col>\n                            <Col>\n                                <div className=\"how-it-works\">\n                                    <h3>Book</h3>\n                                    <p>Checkout your nearest cars <a href=\"/locations\">here</a>, then head over to dashboard, pick a time range to get started!</p>\n                                </div>\n                            </Col>\n                            <Col>\n                                <div className=\"how-it-works\">\n                                    <h3>Unlock</h3>\n                                    <p>Go up to the car on your time of choice and unlock the car.</p>\n                                </div>\n                            </Col>\n                            <Col>\n                                <div className=\"how-it-works\">\n                                    <h3>Drive</h3>\n                                    <p>Enjoy driving your car</p>\n                                </div>\n                            </Col>\n                        </Row>\n                        <div className=\"benefits-div\">\n                            <h2>Benefits</h2>\n                            <p>\n                                CaRental gives you access to cars 24/7 without the hassle of owning one.\n                                You can rent a car from just $13 an hour, with fuel, insurance and Roadside assistance included.\n                            </p>\n                            <Row>\n                                <Col>\n                                    <div className=\"benefits-white-cards\">\n                                        <FontAwesomeIcon icon={faPiggyBank} size=\"3x\" />\n                                        <h3>Signing Up is Free</h3>\n                                        <p>Nothing to lose by joining. 100% Free!</p>\n                                    </div>\n                                </Col>\n                                <Col>\n                                    <div className=\"benefits-white-cards\">\n                                        <FontAwesomeIcon icon={faMoneyBill} size=\"3x\" />\n                                        <h3>No Membership Fee</h3>\n                                        <p>You only pay for the car's rent</p>\n                                    </div>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col>\n                                    <div className=\"benefits-white-cards\">\n                                        <FontAwesomeIcon icon={faCar} size=\"3x\" />\n                                        <h3>Cheaper than owning a car</h3>\n                                        <p>Much more ecomonic than buying and maintaing a car</p>\n                                    </div>\n                                </Col>\n                                <Col>\n                                    <div className=\"benefits-white-cards\">\n                                        <FontAwesomeIcon icon={faPhone} size=\"3x\" />\n                                        <h3>Roadside Assistance</h3>\n                                        <p>Easily get in touch with one of our assistance if you have any issues on the road</p>\n                                    </div>\n                                </Col>\n                            </Row>\n                        </div>\n                        <Row>\n                        </Row>\n                    </Container>\n                    <div className=\"find-nearest-car-div\">\n                        <h2>Find your nearest Ride</h2>\n                        <p>Our cars are spread all over Melbourne. There's probably one near you</p>\n                        <div>\n                            <Button href=\"/locations\">Check out our locations</Button>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        );\n    }\n}\n","/* Cars component in landing page */\nimport React, { Component } from 'react'\nimport CarServiceApi from '../../api/CarServiceApi.js';\nimport LocationServiceApi from '../../api/LocationServiceApi.js';\nimport { Container, Row, Col, Button } from 'react-bootstrap';\nimport '../../styles/cars.css';\n\nexport default class Cars extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            cars: []\n        };\n    }\n\n    componentDidMount() {\n        // obtain all cars\n        CarServiceApi.getAllCars().then(res => {\n            res.data.cars.forEach(car => {\n                LocationServiceApi.getLocationFromId(car.location).then(res => {\n                    car.location = res.data.name\n                    car.locationId = res.data._id\n                    this.state.cars.push(car);\n                    this.setState({\n                        cars: this.state.cars\n                    });\n                });\n            });\n        });\n    }\n\n    render() {\n        return (\n            <section className=\"section-item\">\n                <div>\n                    <h2>Our cars</h2>\n                    <Container fluid>\n                        <Row>\n                            {\n                                this.state.cars.map(car =>\n                                    <CarDescriptionComponent car={car} />)\n                            }\n                        </Row>\n                    </Container>\n                </div>\n                <div className=\"find-nearest-car-div\">\n                    <h2>Find your nearest Ride</h2>\n                    <p>Our cars are spread all over Melbourne. There's probably one near you</p>\n                    <div>\n                        <Button href=\"/locations\">Check out our locations</Button>\n                    </div>\n                </div>\n            </section>\n        );\n    }\n}\n\nfunction CarDescriptionComponent(props) {\n    // car description component card\n    const { car } = props\n    return (\n        <Col sm={4}>\n            <div className=\"cars-div-white\">\n                <img src={car.image} alt=\"car\" width=\"100\" />\n                <h2 style={{ marginTop: '1vh' }}>{car.make}</h2>\n                <p>{car.fueltype}, {car.bodytype}, {car.seats} seaters, {car.colour}</p>\n                <h5>${car.costperhour} per hour</h5>\n                <a href={\"/locations/\" + car.locationId}><strong>Garage Location:</strong> {car.location}</a>\n            </div>\n        </Col>\n    );\n}\n","/* FAQs component in landing page */\nimport React, { Component } from 'react';\nimport { Accordion, Card, Button } from 'react-bootstrap';\n\nexport default class Faqs extends Component {\n    render() {\n        return (\n            <section className=\"section-item\">\n                <div>\n                    <h2>FAQs</h2>\n                    <Accordion style={{ marginTop: '7vh' }}>\n                        <AccordionCustom eventKey=\"1\" question=\"How do I book a vehicle?\" answer=\"Signup for an account if you haven't already, login and click on Dashboard to get started!\" />\n                        <AccordionCustom eventKey=\"2\" question=\"How do I unlock a vehicle when it's time?\" answer=\"Head over to Dashboard and select the Pickup button, it's that easy!\" />\n                        <AccordionCustom eventKey=\"3\" question=\"How do I return when I'm done?\" answer=\"Head over to Dashboard and select the Return button and you're good to go!\" />\n                        <AccordionCustom eventKey=\"4\" question=\"Can I cancel my bookings prior pickup time?\" answer=\"Yes most definitely! You can do it through My Bookings dashboard.\" />\n                        <AccordionCustom eventKey=\"5\" question=\"Can I smoke in your cars?\" answer=\"Smoking is prohibited and will incur a $300 penalty if found guilty.\" />\n                    </Accordion>\n                </div>\n            </section>\n        );\n    }\n}\n\nfunction AccordionCustom(props) {\n    // FAQ render element\n    const { eventKey, question, answer } = props\n    return (\n        <Card style={{ marginBottom: '3vh' }}>\n            <Card.Header>\n                <Accordion.Toggle as={Button} variant=\"link\" eventKey={eventKey}>\n                    {question}\n                </Accordion.Toggle>\n            </Card.Header>\n            <Accordion.Collapse eventKey={eventKey}>\n                <Card.Body>{answer}</Card.Body>\n            </Accordion.Collapse>\n        </Card>\n    );\n}\n","/* landing page body component */\nimport React, { Component } from 'react';\nimport { Nav } from 'react-bootstrap';\nimport '../styles/landingBody.css';\nimport Overview from './landingBodyComponents/overview';\nimport Cars from './landingBodyComponents/cars';\nimport Faqs from './landingBodyComponents/faqs';\n\n// define styles\nconst navWhenSelectedStyle = {\n    borderBottom: \"4px solid #009bde\"\n};\n\nexport default class landingBody extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            component: 'Overview'\n        };\n    }\n\n    handleClick(event) {\n        this.setState({\n            component: event.target.innerHTML\n        });\n    }\n\n    render() {\n        const { component } = this.state;\n        return (\n            <div id=\"landing-body\">\n                <Nav id=\"landing-body-nav\" className=\"justify-content-center\" activeKey=\"/home\">\n                    <Nav.Item onClick={this.handleClick.bind(this)} style={(component === \"Overview\") ? navWhenSelectedStyle : {} }>\n                        <Nav.Link className=\"nav-link\">Overview</Nav.Link>\n                    </Nav.Item>\n                    <Nav.Item onClick={this.handleClick.bind(this)} style={(component === \"Cars\") ? navWhenSelectedStyle : {}}>\n                        <Nav.Link className=\"nav-link\">Cars</Nav.Link>\n                    </Nav.Item>\n                    <Nav.Item onClick={this.handleClick.bind(this)} style={(component === \"FAQs\") ? navWhenSelectedStyle : {}}>\n                        <Nav.Link className=\"nav-link\">FAQs</Nav.Link>\n                    </Nav.Item>\n                </Nav>\n                <RenderCorrectComponents component={this.state.component} />\n            </div>\n        )\n    }\n}\n\n/* Function components */\nfunction RenderCorrectComponents(props) {\n    const { component } = props\n    switch(component) {\n        case \"Overview\":\n            return(<Overview />);\n        case \"Cars\":\n            return(<Cars />);\n        case \"FAQs\":\n            return(<Faqs />);\n        default:\n            return(<Overview />);\n    }\n}\n","/* landing page component */\nimport React, { Component } from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport '../styles/landing.css';\nimport LandingBody from './landingBody';\nimport UserServiceApi from '../api/UserServiceApi';\n\nclass LandingPage extends Component {\n    render() {\n        const isUserLoggedIn = UserServiceApi.isUserLoggedIn();\n        const isUserStaff = UserServiceApi.isUserStaff();\n        return (\n            <>\n                <Container id=\"landing-page\" fluid>\n                    <div id=\"catchphrase\">\n                        <h1>CaRental Inc.</h1>\n                        <h4>You don't need to own a car to drive one</h4>\n\n                        {(isUserLoggedIn && !isUserStaff) &&\n                            <>\n                                <Link to=\"/dashboard\">\n                                    <Button variant=\"warning\" style={{ fontSize: '2vh' }}>Dashboard</Button>\n                                </Link>\n                            </>\n                        }\n                        {(isUserLoggedIn && isUserStaff) &&\n                            <>\n                                <Link to=\"/staff\">\n                                    <Button variant=\"warning\" style={{ fontSize: '2vh' }}>Manage System</Button>\n                                </Link>\n                            </>\n                        }\n                        {!isUserLoggedIn &&\n                            <>\n                                <Link to=\"/signup\">\n                                    <Button variant=\"warning\" style={{ fontSize: '2vh' }}>Sign Up Now</Button>\n                                </Link>\n                            </>\n                        }\n                    </div>\n                </Container>\n                <Container id=\"landing-main\" fluid>\n                    <LandingBody />\n                </Container>\n            </>\n        )\n    }\n}\n\nexport default LandingPage;\n","/* Signup page */\nimport React, { Component } from 'react';\nimport { Form, Col, Button, Row, Alert } from 'react-bootstrap';\nimport UserServiceApi from '../api/UserServiceApi.js';\n\nclass SignUpPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            firstname: '',\n            lastname: '',\n            email: '',\n            password: '',\n            errorMessage: ''\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    /* Set react state for each input when user inputs something on signup form */\n    handleChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    }\n\n    handleSubmit = event => {\n        event.preventDefault();\n        /* create new user object */\n        let newUser = {\n            firstname: this.state.firstname.trim(),\n            lastname: this.state.lastname.trim(),\n            email: this.state.email,\n            password: this.state.password,\n            usertype: \"customer\"\n        };\n        // input validation\n        if (this.state.firstname === '') {\n            return this.setState({ errorMessage: \"First name can't be empty!\" });\n        }\n        if (this.state.lastname === '') {\n            return this.setState({ errorMessage: \"Last name can't be empty!\" });\n        }\n        const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if (!emailRegex.test(String(this.state.email).toLowerCase())) {\n            return this.setState({ errorMessage: \"Please enter a valid email!\" });\n        }\n        // publish new user to backend\n        UserServiceApi.createNewUser(newUser).then(() => {\n            // login user on success\n            UserServiceApi.loginUser({ email: this.state.email, password: this.state.password }).then(res => {\n                UserServiceApi.registerSuccessfulLoginForJwt(res.data.token);\n                window.location.href = `/`;\n            })\n        }).catch((error) => {\n            this.setState({ errorMessage: error.response.data.message });\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Sign up failed!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                <Form onSubmit={this.handleSubmit} id=\"signup_form\" >\n                    <Form.Group as={Row} controlId=\"formHorizontalFirstName\">\n                        <Form.Label column sm={2}>\n                            First Name\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"firstname\" type=\"firstname\" placeholder=\"First Name\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formHorizontalLastName\">\n                        <Form.Label column sm={2}>\n                            Last Name\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"lastname\" type=\"lastname\" placeholder=\"Last Name\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formHorizontalEmail\">\n                        <Form.Label column sm={2}>\n                            Email\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"email\" type=\"email\" placeholder=\"Email\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formHorizontalPassword\">\n                        <Form.Label column sm={2}>\n                            Password\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"password\" type=\"password\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\" title=\"Must contain: at least one number, one uppercase, lowercase letter, and at least 8 or more characters\" placeholder=\"Password\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row}>\n                        <Col sm={{ span: 10, offset: 2 }}>\n                            <Button type=\"submit\">Create Account</Button>\n                        </Col>\n                        <Col sm={{ span: 10, offset: 2 }}>\n                            <a href=\"/login\">Have an account?</a>\n                        </Col>\n                    </Form.Group>\n                </Form>\n\n            </div>\n        )\n    }\n}\n\nexport default SignUpPage;\n","/* login page */\nimport React, { Component } from 'react';\nimport { Form, Col, Button, Row, Alert } from 'react-bootstrap';\nimport UserServiceApi from '../api/UserServiceApi.js';\n\nclass LoginPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            errorMessage: ''\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    /* Set react state for each input when user inputs something on login form */\n    handleChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    }\n\n    handleSubmit = event => {\n        // login button handler\n        event.preventDefault();\n        let creds = {\n            email: this.state.email,\n            password: this.state.password\n        };\n        // email validation\n        const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if (!emailRegex.test(String(this.state.email).toLowerCase())) {\n            return this.setState({ errorMessage: \"Please enter a valid email!\" });\n        }\n        // publish login details to backend\n        UserServiceApi.loginUser(creds).then(res => {\n            UserServiceApi.registerSuccessfulLoginForJwt(res.data.token);\n            window.location.href = `/`;\n        }).catch((error) => {\n            this.setState({ errorMessage: error.response.data.message });\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Login failed!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                <Form onSubmit={this.handleSubmit} id=\"login_form\">\n                    <Form.Group as={Row} controlId=\"formHorizontalEmail\">\n                        <Form.Label column sm={2}>\n                            Email\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"email\" type=\"email\" placeholder=\"Email\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formHorizontalPassword\">\n                        <Form.Label column sm={2}>\n                            Password\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"password\" type=\"password\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\" title=\"Must contain: at least one number, one uppercase, lowercase letter, and at least 8 or more characters\" placeholder=\"Password\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row}>\n                        <Col sm={{ span: 10, offset: 2 }}>\n                            <Button type=\"submit\">Login</Button>\n                        </Col>\n                    </Form.Group>\n                </Form>\n            </div>\n        )\n    }\n}\n\nexport default LoginPage;\n","/* Location/Map page */\nimport React from 'react';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport LocationServiceApi from '../api/LocationServiceApi.js';\nimport \"../styles/map.css\";\n\nexport class MapContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      locations: [],\n      activeMarker: {},\n      showingInfoWindow: false,\n      selectedPlace: {}\n    };\n  }\n\n  componentDidMount() {\n    // obtain all locations\n    let location_array = this.state.locations;\n    // Get all locations from backend\n    LocationServiceApi.getAllLocations().then(res => {\n      const data = res.data;\n      // Iterate through each address and get latitude and longitude\n      data.forEach(element => {\n        LocationServiceApi.getGeocodeFromAddress(element.address)\n          .then(res => {\n            // Create object with address, latitude and longitude\n            let object = {\n              id: element._id,\n              address: element.address,\n              name: element.name,\n              lat: res.data.results[0].geometry.location.lat,\n              lng: res.data.results[0].geometry.location.lng,\n              cars: element.cars\n            };\n            // Push address, lat, long as object to react state array\n            location_array.push(object);\n            this.setState({\n              locations: location_array\n            });\n          });\n      });\n    });\n  }\n\n  mapOnMarkerClick = (props, marker) =>\n    this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: true,\n    });\n\n  mapOnMapClick = () =>\n    this.setState({\n      showingInfoWindow: false,\n      selectedPlace: {},\n      activeMarker: {}\n    });\n\n  render() {\n    return (\n      <div style={{ height: \"100vh\" }}>\n        <Map google={this.props.google}\n          initialCenter={{\n            lat: -37.815198,\n            lng: 144.957045\n          }}\n          zoom={14}\n          onClick={this.mapOnMapClick}>\n\n          {this.state.locations.map(marker => {\n            return (\n              <Marker\n                id={marker.id}\n                name={marker.name}\n                address={marker.address}\n                onClick={this.mapOnMarkerClick}\n                position={{ lat: marker.lat, lng: marker.lng }}\n              />)\n          })}\n\n          <InfoWindow\n            onClose={this.onInfoWindowClose}\n            marker={this.state.activeMarker}\n            visible={this.state.showingInfoWindow}>\n            <div id=\"info-window\">\n              <h2>{this.state.selectedPlace.name}</h2>\n              <p>{this.state.selectedPlace.address}</p>\n              <a href={\"/locations/\" + this.state.selectedPlace.id}>Check out this location</a>\n            </div>\n          </InfoWindow>\n        </Map>\n      </div>\n    );\n  }\n}\n\nexport default GoogleApiWrapper({\n  \tapiKey: process.env.REACT_APP_API_KEY\n  //apiKey: 'REACT_APP_API_KEY'\n})(MapContainer);\n","/* authenticated router */\nimport React, { Component } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport UserServiceApi from './api/UserServiceApi';\n\n\nclass AuthenticatedRoute extends Component {\n    //This class authenticates and verifies the user, otherwise redirects the web to the login page.\n    render() {\n        if (UserServiceApi.isUserLoggedIn()) {\n            return <Route {...this.props} />\n        } else {\n            return <Redirect to=\"/\" />\n        }\n    }\n}\n\nexport default AuthenticatedRoute;\n","/* Staff dashboard page/wrapper */\nimport React, { Component } from 'react';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport UserServiceApi from '../../api/UserServiceApi';\nimport '../../styles/staffDashboard.css';\n\n// define styles\nconst FunctionSelectedStyle = {\n    borderBottom: \"4px solid #009bde\",\n    color: \"white\"\n};\nconst FunctionNotSelectedStyle = {\n    color: \"white\"\n};\n\nexport default class StaffDashboard extends Component {\n    render() {\n        const currentLocation = window.location.pathname;\n        const isAdmin = UserServiceApi.isUserAdmin;\n        return (\n            <Container style={{ margin: \"0\", padding: \"0\", maxWidth: \"100%\" }}>\n                <Row style={{ margin: \"0\" }}>\n                    <Col className=\"sidenav\" md={2}>\n                        <h3>{isAdmin ? \"Admin\" : \"Staff\"} Functions</h3>\n                        <p><a href=\"/staff\" style={(currentLocation === \"/staff\") ? FunctionSelectedStyle : FunctionNotSelectedStyle}>Overview</a></p>\n                        {\n                            isAdmin &&\n                            <>\n                                <p><a href=\"/admin/signup\" style={(currentLocation === \"/admin/signup\") ? FunctionSelectedStyle : FunctionNotSelectedStyle}>Create Account</a></p>\n                                <p><a href=\"/admin/addcars\" style={(currentLocation === \"/admin/addcars\") ? FunctionSelectedStyle : FunctionNotSelectedStyle}>Create Car</a></p>\n                                <p><a href=\"/admin/addlocation\" style={(currentLocation === \"/admin/addlocation\") ? FunctionSelectedStyle : FunctionNotSelectedStyle}>Add Location</a></p>\n                                <p><a href=\"/admin/view/customers\" style={(currentLocation === \"/admin/customers\") ? FunctionSelectedStyle : FunctionNotSelectedStyle}>View All Customers</a></p>\n                                <p><a href=\"/admin/view/bookings\" style={(currentLocation === \"/admin/view/bookings\") ? FunctionSelectedStyle : FunctionNotSelectedStyle}>View All Bookings</a></p>\n                                <p><a href=\"/admin/view/cars\" style={(currentLocation === \"/admin/view/cars\") ? FunctionSelectedStyle : FunctionNotSelectedStyle}>View All Cars</a></p>\n                                <p><a href=\"/admin/view/location\" style={(currentLocation === \"/admin/view/location\") ? FunctionSelectedStyle : FunctionNotSelectedStyle}>View All Locations</a></p>\n                            </>\n                        }\n                    </Col>\n                    <Col className=\"main\" md={10} style={{ paddingTop: '5vh' }}>\n                        {this.props.children}\n                    </Col>\n                </Row>\n            </Container>\n        )\n    }\n}\n","/* Staff router */\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport UserServiceApi from './api/UserServiceApi';\nimport StaffDashboard from './components/staffComponents/staffDashboard';\n\nconst StaffRoute = ({ component: Component, ...rest }) => {\n    //This class authenticates and verifies the staff member, otherwise redirects the web to the login page.\n    if (UserServiceApi.isUserLoggedIn() && (UserServiceApi.isUserStaff() || UserServiceApi.isUserAdmin())) {\n        return (\n            <Route {...rest} render={matchProps => (\n                <StaffDashboard>\n                    <Component {...matchProps} />\n                </StaffDashboard>\n            )} />\n        );\n    } else {\n        return <Redirect to=\"/\" />\n    }\n}\n\nexport default StaffRoute;\n","/* Location show page */\nimport React, { Component } from 'react';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport { Jumbotron, Button } from 'react-bootstrap';\nimport { Container, Row, Col } from 'react-bootstrap'\nimport LocationServiceApi from '../api/LocationServiceApi.js';\nimport CarServiceApi from '../api/CarServiceApi.js';\nimport \"../styles/map.css\";\n\nclass LocationShowPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            location: {},\n            cars: [],\n            activeMarker: {},\n            showingInfoWindow: false,\n            selectedPlace: {},\n            isLoading: false\n        };\n    }\n\n    componentDidMount() {\n        // obtain location id from url parameters\n        let url = this.props.match.url;\n        let location_id = url.split(\"/\")[2];\n        // Get location from id\n        LocationServiceApi.getLocationFromId(location_id).then(res => {\n            LocationServiceApi.getGeocodeFromAddress(res.data.address)\n                .then(newRes => {\n                    // Create object with address, latitude and longitude\n                    let locationObject = {\n                        id: res.data._id,\n                        address: res.data.address,\n                        name: res.data.name,\n                        lat: newRes.data.results[0].geometry.location.lat,\n                        lng: newRes.data.results[0].geometry.location.lng,\n                        cars: res.data.cars\n                    };\n                    // set new location object to react state array\n                    this.setState({\n                        location: locationObject,\n                        isLoading: true\n                    });\n                });\n            res.data.cars.forEach(carId => {\n                CarServiceApi.getCar(carId).then(res => {\n                    this.state.cars.push(res.data.car);\n                    this.setState({\n                        cars: this.state.cars\n                    });\n                });\n            });\n        });\n    }\n\n    mapOnMarkerClick = (props, marker) =>\n        this.setState({\n            selectedPlace: props,\n            activeMarker: marker,\n            showingInfoWindow: true,\n        });\n\n    mapOnMapClick = () =>\n        this.setState({\n            showingInfoWindow: false,\n            selectedPlace: {},\n            activeMarker: {}\n        });\n\n    render() {\n        return (\n            <Container style={{ 'padding': '1vh' }}>\n                <Jumbotron>\n                    <h2>Welcome to one of our locations</h2>\n                    <Button href=\"/locations\" variant=\"primary\">Back to the map</Button>\n                </Jumbotron>\n                {this.state.isLoading && <div id=\"garage-map\" style={{ height: '400px' }}>\n                    <Map google={this.props.google}\n                        initialCenter={{\n                            lat: this.state.location.lat,\n                            lng: this.state.location.lng\n                        }}\n                        style={{ height: '400px', width: '400px' }}\n                        zoom={14}\n                        onClick={this.mapOnMapClick}>\n\n                        <Marker\n                            id={this.state.location.id}\n                            name={this.state.location.name}\n                            address={this.state.location.address}\n                            onClick={this.mapOnMarkerClick}\n                            position={{ lat: this.state.location.lat, lng: this.state.location.lng }}\n                        />\n\n                        <InfoWindow\n                            onClose={this.onInfoWindowClose}\n                            marker={this.state.activeMarker}\n                            visible={this.state.showingInfoWindow}>\n                            <div id=\"info-window\">\n                                <h2>{this.state.selectedPlace.name}</h2>\n                                <p>{this.state.selectedPlace.address}</p>\n                                <a href={\"/locations/\" + this.state.selectedPlace.id}>Check out this location</a>\n                            </div>\n                        </InfoWindow>\n                    </Map>\n                </div>}\n                <h3>{this.state.location.name}</h3>\n                <strong>Address: </strong>\n                <p>{this.state.location.address}</p>\n                <strong>Number of cars: </strong>\n                <p>{this.state.cars.length}</p>\n                <strong>Cars at this location:</strong>\n                <Container fluid id=\"car-show\">\n                    <Row>\n                        {this.state.cars.map(car =>\n                            <CarDescriptionComponent car={car} />\n                        )}\n                    </Row>\n                </Container>\n            </Container>\n        )\n    }\n}\n\nfunction CarDescriptionComponent(props) {\n    // car description component card\n    const { car } = props\n    return (\n        <Col sm={4}>\n            <div className=\"cars-div-white\" style={{ 'border': 'solid black 2px' }}>\n                <img src={car.image} alt=\"car\" width=\"100\" />\n                <h2 style={{ marginTop: '1vh' }}>{car.make}</h2>\n                <p>{car.fueltype}, {car.bodytype}, {car.seats} seaters, {car.colour}</p>\n                <h5>${car.costperhour} per hour</h5>\n            </div>\n        </Col>\n    );\n}\n\nexport default GoogleApiWrapper({\n    apiKey: process.env.REACT_APP_API_KEY\n})(LocationShowPage);\n","/* footer component */\nimport React, { Component } from 'react';\nimport '../styles/footer.css';\n\nexport default class footer extends Component {\n    render() {\n        return (\n            <div className=\"footer-parent\">\n                <div className=\"footer\">\n                    <p>Email us: <a href=\"mailto:bobjustic6@gmail.com\">mail@caRental.com</a></p>\n                    <p>Call us: (03) 1234 5678</p>\n                    <p>Visit us: CaRental, 124 La Trobe St, Melbourne VIC 3000</p>\n                </div>\n            </div>\n        )\n    }\n}\n","/* App constants are defined below */\nexport const CAR_COLOURS = [\"Black\", \"Yellow\", \"Blue\", \"White\", \"Green\", \"Red\", \"Orange\", \"Purple\"];\nexport const CAR_BODY_TYPES = [\"Sedan\", \"MPV\", \"Sports\", \"Hatchback\", \"Ute\"];\nexport const CAR_SEATS = [2, 4, 5, 6, 7];\nexport const CAR_FUEL_TYPES = [\"Petrol\", \"Diesel\"];\nexport const FILE_UPLOAD_LIMIT = 4000000 // 4mb\n","/* Booking service APIs */\nimport axios from 'axios';\nimport UserServiceApi from './UserServiceApi';\nrequire('dotenv').config();\nconst api_url = \"http://localhost:3001/api/bookings\";\n\nclass BookingServiceApi {\n    getNextBooking() {\n        return axios.get(`${api_url}/customers/next`, { headers: { authorization: UserServiceApi.getUserToken() } });\n    }\n\n    createBooking(booking) {\n        return axios.post(api_url, booking);\n    }\n\n    getUserBookings(userId) {\n        return axios.get(`${api_url}/customers/all/${userId}`, { headers: { authorization: UserServiceApi.getUserToken() } });\n    }\n\n    getUserBooking(bookingId) {\n        return axios.get(`${api_url}/customers/${bookingId}`, { headers: { authorization: UserServiceApi.getUserToken() } });\n    }\n\n    modifyBooking(booking) {\n        return axios.patch(`${api_url}/customers/${booking.id}`, booking);\n    }\n\n    getAllBookings() {\n        return axios.get(`${api_url}/customers/all`, { headers: { authorization: UserServiceApi.getUserToken() } });\n    }\n\n    getBooking(bookingId) {\n        return axios.get(`${api_url}/${bookingId}`, { headers: { authorization: UserServiceApi.getUserToken() } });\n    }\n}\n\nexport default new BookingServiceApi();\n","/* Bookings confirm details page */\nimport React, { Component } from 'react';\nimport { Col, Button, Alert } from 'react-bootstrap';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport BookingServiceApi from '../../api/BookingServiceApi';\nimport UserServiceApi from '../../api/UserServiceApi';\nimport LocationServiceApi from '../../api/LocationServiceApi';\n\nclass BookingConfirmDetailsPopUp extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            errorMessage: '',\n            location: {},\n            activeMarker: {},\n            showingInfoWindow: false,\n            selectedPlace: {},\n            isLoading: false\n        };\n        this.handleConfirmButton = this.handleConfirmButton.bind(this);\n        this.handleCancelButton = this.handleCancelButton.bind(this);\n    }\n\n    handleConfirmButton = event => {\n        // prevent browser from refreshing on click\n        event.preventDefault();\n        // generate new booking object\n        let newBooking = {\n            pickupTime: this.props.pickupTime,\n            returnTime: this.props.returnTime,\n            user: UserServiceApi.getLoggedInUserID(),\n            car: this.props.car._id,\n            location: this.props.car.location,\n        };\n        // publish create booking request to backend\n        BookingServiceApi.createBooking(newBooking)\n            .then(res => {\n                // redirect to booking details page on success\n                window.location.href = `/mybookings/${res.data.response.booking._id}`;\n            })\n            .catch((error) => {\n                // display error message on failure\n                this.setState({ errorMessage: error.response.data.message });\n            })\n    };\n\n    handleCancelButton = event => {\n        // prevent browser from refreshing on click\n        event.preventDefault();\n        this.props.togglePopUp();\n    };\n\n    componentDidMount() {\n        const { car } = this.props;\n\n        // obtain location from id\n        LocationServiceApi.getLocationFromId(car.location)\n            .then(res => {\n                LocationServiceApi.getGeocodeFromAddress(res.data.address)\n                    .then(newRes => {\n                        // Create object with address, latitude and longitude\n                        let locationObject = {\n                            id: res.data._id,\n                            address: res.data.address,\n                            name: res.data.name,\n                            lat: newRes.data.results[0].geometry.location.lat,\n                            lng: newRes.data.results[0].geometry.location.lng,\n                            cars: res.data.cars\n                        }\n                        // set new location object to react state array\n                        this.setState({\n                            location: locationObject,\n                            isLoading: true\n                        })\n                    });\n            });\n    }\n\n    mapOnMarkerClick = (props, marker) =>\n        this.setState({\n            selectedPlace: props,\n            activeMarker: marker,\n            showingInfoWindow: true,\n        });\n\n    mapOnMapClick = () =>\n        this.setState({\n            showingInfoWindow: false,\n            selectedPlace: {},\n            activeMarker: {}\n        });\n\n    calculateBookingCost() {\n        // cost calculation based on pickup time and return time difference\n        const pickupTimeHours = new Date(this.props.pickupTime);\n        const returnTimeHours = new Date(this.props.returnTime);\n        const timeDeltaHours = new Date(returnTimeHours - pickupTimeHours).getTime() / 3600;\n\n        const cost = parseInt(this.props.car.costperhour) * (timeDeltaHours / 1000);\n        return cost.toFixed(2);\n    }\n\n    render() {\n        const { locations, car, pickupTime, returnTime } = this.props;\n        const cost = this.calculateBookingCost();\n\n        return (<div className=\"container\">\n            {this.state.errorMessage && <Alert variant=\"danger\">\n                <Alert.Heading>Booking failed!</Alert.Heading>\n                <p>\n                    {this.state.errorMessage}\n                </p>\n            </Alert>}\n            <h2>Confirm Booking?</h2>\n            {this.state.isLoading && <div id=\"garage-map\" style={{ height: '400px' }}>\n                <Map google={this.props.google}\n                    initialCenter={{\n                        lat: this.state.location.lat,\n                        lng: this.state.location.lng\n                    }}\n                    style={{ height: '400px', width: '400px' }}\n                    zoom={14}\n                    onClick={this.mapOnMapClick}>\n\n                    <Marker\n                        id={this.state.location.id}\n                        name={this.state.location.name}\n                        address={this.state.location.address}\n                        onClick={this.mapOnMarkerClick}\n                        position={{ lat: this.state.location.lat, lng: this.state.location.lng }}\n                    />\n\n                    <InfoWindow\n                        onClose={this.onInfoWindowClose}\n                        marker={this.state.activeMarker}\n                        visible={this.state.showingInfoWindow}>\n                        <div id=\"info-window\">\n                            <h2>{this.state.selectedPlace.name}</h2>\n                            <p>{this.state.selectedPlace.address}</p>\n                            <a href={\"/locations/\" + this.state.selectedPlace.id}>Check out this location</a>\n                        </div>\n                    </InfoWindow>\n                </Map>\n            </div>}\n            <b>Pickup time: </b> {pickupTime} <br></br>\n            <b>Return time: </b> {returnTime} <br></br>\n            <b>Cost: </b> ${cost} <br></br>\n            <b>Location: </b> {locations.map(location =>\n                <>\n                    {location.id === car.location &&\n                        <>\n                            {location.name}\n                        </>\n                    }\n                </>\n            )} <br></br>\n            <b>Address: </b> {locations.map(location =>\n                <>\n                    {location.id === car.location &&\n                        <>\n                            {location.address}\n                        </>\n                    }\n                </>\n            )} <br></br>\n            <Col sm={4}>\n                <div className=\"cars-div-white\">\n                    <img src={car.image} alt=\"car\" width=\"100\" />\n                    <h2 style={{ marginTop: '1vh' }}>{car.make}</h2>\n                    <p>{car.fueltype}, {car.bodytype}, {car.seats} seaters, {car.colour}</p>\n                    <h5>${car.costperhour} per hour</h5>\n                    <a href={\"/locations/\" + car.locationId}><strong>Garage Location:</strong> {car.location}</a>\n                </div>\n            </Col>\n            <Button variant=\"success\" onClick={this.handleConfirmButton}>Confirm</Button>\n            <Button variant=\"danger\" onClick={this.handleCancelButton}>Cancel</Button>\n        </div>);\n    }\n}\n\nexport default GoogleApiWrapper({\n    apiKey: process.env.REACT_APP_API_KEY\n})(BookingConfirmDetailsPopUp);\n","/* Filter cars page */\nimport React, { Component } from 'react';\nimport { Form, Col, Button, Row, Alert, Table, Container } from 'react-bootstrap';\nimport CarServiceApi from '../../api/CarServiceApi';\nimport { CAR_COLOURS, CAR_BODY_TYPES, CAR_SEATS, CAR_FUEL_TYPES } from '../../Constants.js';\nimport LocationServiceApi from '../../api/LocationServiceApi';\nimport BookingConfirmDetailsPopUp from './bookingConfirmDetails';\n\nclass FilterCarsPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            pickupTime: '',\n            returnTime: '',\n            availableCars: [],\n            make: '',\n            seats: 'Any',\n            fueltype: 'Any',\n            colour: 'Any',\n            location: 'Any',\n            bodytype: 'Any',\n            locations: [],\n            errorMessage: '',\n            popUp: false,\n            selectedCar: ''\n        };\n        this.handleSubmitFilter = this.handleSubmitFilter.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.togglePopUp = this.togglePopUp.bind(this);\n    }\n\n    handleChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    }\n\n    handleSubmitFilter = event => {\n        event.preventDefault();\n        // filter available cars based on attributes specified\n        let newFilter = {\n            pickupTime: this.state.pickupTime,\n            returnTime: this.state.returnTime,\n            availableCars: this.state.availableCars,\n            make: this.state.make,\n            seats: this.state.seats,\n            fueltype: this.state.fueltype,\n            colour: this.state.colour,\n            location: this.state.location,\n            bodytype: this.state.bodytype\n        };\n        // publish filter cars request to backend\n        CarServiceApi.filterCars(newFilter).then(res => {\n            this.setState({\n                availableCars: res.data.availableCars,\n                errorMessage: ''\n            });\n        }).catch((error) => {\n            this.setState({ errorMessage: error.response.data.message, availableCars: [] });\n        });\n    }\n\n    togglePopUp(car) {\n        if (this.state.popUp)\n            car = null;\n        this.setState({\n            popUp: !this.state.popUp,\n            selectedCar: car\n        });\n    }\n\n    componentDidMount() {\n        const { availableCars, pickupTime, returnTime } = this.props;\n\n        // redirect to dashboard if props don't exist\n        if (availableCars.length === 0 || pickupTime === '' || returnTime === '') {\n            this.props.history.push('/dashboard');\n        }\n\n        this.setState({\n            availableCars: availableCars,\n            pickupTime: pickupTime,\n            returnTime: returnTime\n        });\n\n        // obtain all locations\n        let locationArray = this.state.locations;\n        LocationServiceApi.getAllLocations().then(res => {\n            res.data.forEach(location => {\n                let locationObject = {\n                    id: location._id,\n                    address: location.address,\n                    name: location.name\n                }\n                locationArray.push(locationObject);\n                this.setState({ locations: locationArray });\n            });\n        });\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.state.popUp && <BookingConfirmDetailsPopUp locations={this.state.locations} car={this.state.selectedCar} pickupTime={this.state.pickupTime} returnTime={this.state.returnTime} togglePopUp={this.togglePopUp} />}\n                <h2>Search for a car</h2>\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error filtering cars!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                <Form onSubmit={this.handleSubmitFilter} id=\"filter_form\" >\n                    <Form.Group controlId=\"formHorizontalFirstName\">\n                        <Form.Label >\n                            Make\n                        </Form.Label>\n                        <Form.Control name=\"make\" type=\"text\" placeholder=\"Make\" onChange={this.handleChange} />\n                    </Form.Group>\n\n                    <Form.Group controlId=\"exampleForm.ControlSelect2\">\n                        <Form.Label>Seats</Form.Label>\n                        <Form.Control name=\"seats\" as=\"select\" onChange={this.handleChange}>\n                            <option>Any</option>\n                            {CAR_SEATS.map(carSeat =>\n                                <>\n                                    <option>{carSeat}</option>\n                                </>\n                            )}\n                        </Form.Control>\n                    </Form.Group>\n\n                    <Form.Group controlId=\"exampleForm.ControlSelect2\">\n                        <Form.Label>Fuel Type</Form.Label>\n                        <Form.Control name=\"fueltype\" as=\"select\" onChange={this.handleChange}>\n                            <option>Any</option>\n                            {CAR_FUEL_TYPES.map(carFuel =>\n                                <>\n                                    <option>{carFuel}</option>\n                                </>\n                            )}\n                        </Form.Control>\n                    </Form.Group>\n\n                    <Form.Group controlId=\"exampleForm.ControlSelect2\">\n                        <Form.Label>Body Type</Form.Label>\n                        <Form.Control name=\"bodytype\" as=\"select\" onChange={this.handleChange}>\n                            <option>Any</option>\n                            {CAR_BODY_TYPES.map(carBodyType =>\n                                <>\n                                    <option>{carBodyType}</option>\n                                </>\n                            )}\n                        </Form.Control>\n                    </Form.Group>\n\n                    <Form.Group controlId=\"exampleForm.ControlSelect2\">\n                        <Form.Label>Colour</Form.Label>\n                        <Form.Control name=\"colour\" as=\"select\" onChange={this.handleChange}>\n                            <option>Any</option>\n                            {CAR_COLOURS.map(carColour =>\n                                <>\n                                    <option>{carColour}</option>\n                                </>\n                            )}\n                        </Form.Control>\n                    </Form.Group>\n\n                    <Form.Group controlId=\"exampleForm.ControlSelect2\">\n                        <Form.Label>Location</Form.Label>\n                        <Form.Control name=\"location\" as=\"select\" onChange={this.handleChange}>\n                            <option>Any</option>\n                            {this.state.locations.map(location =>\n                                <>\n                                    <option value={location.id}>{location.name + \" @ \" + location.address}</option>\n                                </>\n                            )}\n                        </Form.Control>\n                    </Form.Group>\n\n                    <Form.Group as={Row}>\n                        <Col >\n                            <Button type=\"submit\">Filter Cars</Button>\n                        </Col>\n                    </Form.Group>\n                </Form>\n\n                <h2>Available Cars from {this.state.pickupTime} till {this.state.returnTime}</h2>\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>Make</th>\n                            <th>Seats</th>\n                            <th>Body Type</th>\n                            <th>Colour</th>\n                            <th>Cost per hour</th>\n                            <th>Fuel Type</th>\n                            <th>Location</th>\n                            <th>Address</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.state.availableCars.map(car =>\n                            <tr>\n                                <td>{car.make}</td>\n                                <td>{car.seats}</td>\n                                <td>{car.bodytype}</td>\n                                <td>{car.colour}</td>\n                                <td>${car.costperhour}</td>\n                                <td>{car.fueltype}</td>\n                                <td>\n                                    {this.state.locations.map(location =>\n                                        <>\n                                            {location.id === car.location &&\n                                                <>\n                                                    {location.name}\n                                                </>\n                                            }\n                                        </>\n                                    )}\n                                </td>\n                                <td>\n                                    {this.state.locations.map(location =>\n                                        <>\n                                            {location.id === car.location &&\n                                                <>\n                                                    {location.address}\n                                                </>\n                                            }\n                                        </>\n                                    )}\n                                </td>\n                                <td>\n                                    <Button onClick={() => this.togglePopUp(car)}>Book</Button>\n                                </td>\n                            </tr>\n                        )}\n                    </tbody>\n                </Table>\n            </Container>\n        )\n    }\n}\n\nexport default FilterCarsPage;\n","/* Booking dashboard */\nimport React, { Component } from 'react';\nimport { Form, Col, Button, Row, Alert, Container } from 'react-bootstrap';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport CarServiceApi from '../../api/CarServiceApi';\nimport BookingServiceApi from '../../api/BookingServiceApi';\nimport LocationServiceApi from '../../api/LocationServiceApi';\n\nclass BookingDashboard extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            pickupTime: '',\n            returnTime: '',\n            errorMessage: '',\n            nextBooking: {},\n            nextBookingExists: false,\n            car: '',\n            location: '',\n            successHeader: '',\n            successMsg: '',\n            availablePickup: false,\n            avaialbleReturn: false,\n            activeMarker: {},\n            showingInfoWindow: false,\n            selectedPlace: {},\n            isLoading: false\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handlePickupButton = this.handlePickupButton.bind(this);\n        this.handleReturnButton = this.handleReturnButton.bind(this);\n    }\n\n    handleChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n\n    handleSubmit = event => {\n        event.preventDefault();\n        // check for available cars and redirect\n        let newSearch = {\n            pickupTime: this.state.pickupTime,\n            returnTime: this.state.returnTime\n        };\n        // publish search all available cars request to backend\n        CarServiceApi.searchAvailableCars(newSearch).then(res => {\n            // passing available cars to filter car page\n            this.props.updateCars(res.data.availableCars, this.state.pickupTime, this.state.returnTime);\n            this.props.history.push('/filter');\n        }).catch((error) => {\n            // display error if there's any\n            this.setState({ errorMessage: error.response.data.message });\n        });\n    };\n\n    handlePickupButton() {\n        // change booking status to picked up\n        let nextBooking = this.state.nextBooking;\n        nextBooking.status = 'Picked up';\n        nextBooking.id = nextBooking._id;\n        this.setState({\n            nextBooking: nextBooking\n        });\n        // update booking object in database\n        BookingServiceApi.modifyBooking(this.state.nextBooking)\n            .then(() => {\n                this.setState({\n                    successHeader: 'Pickup success!',\n                    successMsg: \"Car has been picked up! Please return it before your specified return time.\",\n                    availablePickup: false,\n                    avaialbleReturn: true\n                });\n            });\n    }\n\n    mapOnMarkerClick = (props, marker) =>\n        this.setState({\n            selectedPlace: props,\n            activeMarker: marker,\n            showingInfoWindow: true,\n        });\n\n    mapOnMapClick = () =>\n        this.setState({\n            showingInfoWindow: false,\n            selectedPlace: {},\n            activeMarker: {}\n        });\n\n    handleReturnButton() {\n        // change booking status to returned\n        let nextBooking = this.state.nextBooking;\n        nextBooking.status = 'Returned';\n        nextBooking.id = nextBooking._id;\n        this.setState({\n            nextBooking: nextBooking\n        });\n        // update booking object in database\n        BookingServiceApi.modifyBooking(this.state.nextBooking)\n            .then(() => {\n                this.setState({\n                    successHeader: 'Return success!',\n                    successMsg: \"Car has been returned! Thanks for using MZA Car Share!\",\n                    avaialbleReturn: false\n                })\n            })\n    }\n\n    componentDidMount() {\n        // obtain customer's upcoming booking  with required elements if any\n        BookingServiceApi.getNextBooking().then(res => {\n            if (Object.keys(res.data).length) {\n                // display upcoming booking and show pickup/return button when available\n                let currentTime = new Date();\n                currentTime.setMinutes(currentTime.getMinutes() - currentTime.getTimezoneOffset());\n                this.setState({\n                    nextBooking: res.data,\n                    nextBookingExists: true,\n                    availablePickup: (!(new Date(res.data.pickuptime) > currentTime) && res.data.status === \"Confirmed\"),\n                    avaialbleReturn: res.data.status === \"Picked up\"\n                });\n                CarServiceApi.getCar(res.data.car)\n                    .then(res => {\n                        this.setState({\n                            car: res.data.car\n                        });\n                    });\n                LocationServiceApi.getLocationFromId(res.data.location)\n                    .then(res => {\n                        LocationServiceApi.getGeocodeFromAddress(res.data.address)\n                            .then(newRes => {\n                                // Create object with address, latitude and longitude\n                                let locationObject = {\n                                    id: res.data._id,\n                                    address: res.data.address,\n                                    name: res.data.name,\n                                    lat: newRes.data.results[0].geometry.location.lat,\n                                    lng: newRes.data.results[0].geometry.location.lng,\n                                    cars: res.data.cars\n                                };\n                                // set new location object to react state array\n                                this.setState({\n                                    location: locationObject,\n                                    isLoading: true\n                                });\n                            });\n                    });\n            }\n        }).catch((error) => {\n            this.setState({ errorMessage: error.response.data.message });\n        });\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.state.successMsg &&\n                    <Alert variant=\"success\">\n                        <Alert.Heading>{this.state.successHeader}</Alert.Heading>\n                        <p>\n                            {this.state.successMsg}\n                        </p>\n                    </Alert>\n                }\n                {this.state.nextBookingExists &&\n                    <div className=\"white-cards-div\">\n                        <Container>\n                            <h2>Your upcoming booking: </h2>\n                            {this.state.isLoading && <div id=\"garage-map\" style={{ height: '400px' }}>\n                                <Map google={this.props.google}\n                                    initialCenter={{\n                                        lat: this.state.location.lat,\n                                        lng: this.state.location.lng\n                                    }}\n                                    style={{ height: '400px', width: '400px' }}\n                                    zoom={14}\n                                    onClick={this.mapOnMapClick}>\n\n                                    <Marker\n                                        id={this.state.location.id}\n                                        name={this.state.location.name}\n                                        address={this.state.location.address}\n                                        onClick={this.mapOnMarkerClick}\n                                        position={{ lat: this.state.location.lat, lng: this.state.location.lng }}\n                                    />\n\n                                    <InfoWindow\n                                        onClose={this.onInfoWindowClose}\n                                        marker={this.state.activeMarker}\n                                        visible={this.state.showingInfoWindow}>\n                                        <div id=\"info-window\">\n                                            <h2>{this.state.selectedPlace.name}</h2>\n                                            <p>{this.state.selectedPlace.address}</p>\n                                            <a href={\"/locations/\" + this.state.selectedPlace.id}>Check out this location</a>\n                                        </div>\n                                    </InfoWindow>\n                                </Map>\n                            </div>}\n                            <b>Booking ID: </b> {this.state.nextBooking._id} <br></br>\n                            <b>Booking time: </b> {this.state.nextBooking.bookedtime} <br></br>\n                            <b>Pickup time: </b> {this.state.nextBooking.pickuptime} <br></br>\n                            <b>Return time: </b> {this.state.nextBooking.returntime} <br></br>\n                            <b>Cost: </b> ${this.state.nextBooking.cost} <br></br>\n                            <b>Location: </b> {this.state.location.name} <br></br>\n                            <b>Address: </b> {this.state.location.address} <br></br>\n                            <b>Status: </b> {this.state.nextBooking.status} <br></br>\n                            <Button variant=\"success\" onClick={this.handlePickupButton} disabled={!this.state.availablePickup}>Pickup</Button>\n                            <Button variant=\"danger\" onClick={this.handleReturnButton} disabled={!this.state.avaialbleReturn}>Return</Button>\n                            <Button href={`/mybookings/${this.state.nextBooking._id}`}>View Booking</Button>\n                            <Col sm={4}>\n                                <div className=\"cars-div-white\" style={{ 'border': 'solid black 2px' }}>\n                                    <img src={this.state.car.image} alt=\"car\" width=\"100\" />\n                                    <h2 style={{ marginTop: '1vh' }}>{this.state.car.make}</h2>\n                                    <p>{this.state.car.fueltype}, {this.state.car.bodytype}, {this.state.car.seats} seaters, {this.state.car.colour}</p>\n                                    <h5>Number Plate: {this.state.car.numberplate}</h5>\n                                    <p><b>Car ID: </b>{this.state.car._id}</p>\n                                </div>\n                            </Col>\n                        </Container>\n                    </div>\n                }\n                <h2>Let's find you a car!</h2>\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error checking availability!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                <Form onSubmit={this.handleSubmit} id=\"availability_form\" >\n                    <Form.Group as={Row} controlId=\"formHorizontalFirstName\">\n                        <Form.Label column sm={2}>\n                            Pickup Time\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"pickupTime\" type=\"datetime-local\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formHorizontalLastName\">\n                        <Form.Label column sm={2}>\n                            Return Time\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"returnTime\" type=\"datetime-local\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row}>\n                        <Col sm={{ span: 10, offset: 2 }}>\n                            <Button type=\"submit\">Check Availability</Button>\n                        </Col>\n                    </Form.Group>\n                </Form>\n            </Container>\n        )\n    }\n}\n\nexport default GoogleApiWrapper({\n    apiKey: process.env.REACT_APP_API_KEY\n})(BookingDashboard);\n","/* My bookings page */\nimport React, { Component } from 'react';\nimport { Alert, Button, Container, Table } from 'react-bootstrap';\nimport BookingServiceApi from '../../api/BookingServiceApi';\nimport LocationServiceApi from '../../api/LocationServiceApi';\nimport CarServiceApi from '../../api/CarServiceApi';\nimport UserServiceApi from '../../api/UserServiceApi';\n\nclass MyBookingPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            bookings: [],\n            locations: [],\n            cars: [],\n            errorMessage: ''\n        };\n        this.handleCancelButton = this.handleCancelButton.bind(this);\n        this.getUsersBookings = this.getUsersBookings.bind(this);\n        this.checkBookingPast = this.checkBookingPast.bind(this);\n    }\n\n    componentDidMount() {\n        this.getUsersBookings();\n        // obtain all locations\n        LocationServiceApi.getAllLocations()\n            .then(res => {\n                let locationArray = this.state.locations;\n                res.data.forEach(location => {\n                    let locationObject = {\n                        id: location._id,\n                        address: location.address,\n                        name: location.name\n                    };\n                    locationArray.push(locationObject);\n                    this.setState({ locations: locationArray });\n                });\n            }).catch((error) => {\n                this.setState({ errorMessage: error.response.data.message });\n            })\n        // obtain all cars\n        CarServiceApi.getAllCars()\n            .then(res => {\n                this.setState({\n                    cars: res.data.cars\n                });\n            }).catch((error) => {\n                this.setState({ errorMessage: error.response.data.message });\n            });\n    }\n\n    getUsersBookings() {\n        const userDetails = UserServiceApi.getLoggedInUserDetails();\n        BookingServiceApi.getUserBookings(userDetails.id)\n            .then(res => {\n                this.setState({\n                    // sort bookings by latest\n                    bookings: res.data.bookings.reverse()\n                });\n            }).catch((error) => {\n                this.setState({ errorMessage: error.response.data.message });\n            });\n    }\n\n    checkBookingPast(pickupTime) {\n        // check if booking pickup time hjas passed current time\n        let currentTime = new Date();\n        currentTime.setMinutes(currentTime.getMinutes() - currentTime.getTimezoneOffset());\n        return new Date(pickupTime) > currentTime;\n    }\n\n    handleCancelButton(booking) {\n        booking.status = 'Cancelled';\n        BookingServiceApi.modifyBooking(booking)\n            .then(() => {\n                this.getUsersBookings();\n            }).catch((error) => {\n                this.setState({ errorMessage: error.response.data.message });\n            });\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error obtaining bookings!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                <h2>My Bookings</h2>\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>Booking ID</th>\n                            <th>Booked Time</th>\n                            <th>Pickup Time</th>\n                            <th>Return Time</th>\n                            <th>Car</th>\n                            <th>Cost</th>\n                            <th>Location</th>\n                            <th>Address</th>\n                            <th>Status</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.state.bookings.map(booking =>\n                            <tr>\n                                <td>{booking.id}</td>\n                                <td>{booking.bookedtime}</td>\n                                <td>{booking.pickuptime}</td>\n                                <td>{booking.returntime}</td>\n                                <td>\n                                    {this.state.cars.map(car =>\n                                        <>\n                                            {car.id === booking.car &&\n                                                <>\n                                                    {car.make}\n                                                </>\n                                            }\n                                        </>\n                                    )}\n                                </td>\n                                <td>${booking.cost}</td>\n                                <td>\n                                    {this.state.locations.map(location =>\n                                        <>\n                                            {location.id === booking.location &&\n                                                <>\n                                                    {location.name}\n                                                </>\n                                            }\n                                        </>\n                                    )}\n                                </td>\n                                <td>\n                                    {this.state.locations.map(location =>\n                                        <>\n                                            {location.id === booking.location &&\n                                                <>\n                                                    {location.address}\n                                                </>\n                                            }\n                                        </>\n                                    )}\n                                </td>\n                                <td>{booking.status}</td>\n                                <td>\n                                    <Button href={`/mybookings/${booking.id}`}>View</Button>\n                                </td>\n                                {(booking.status === \"Confirmed\" && this.checkBookingPast(booking.pickuptime)) &&\n                                    <td>\n                                        <Button variant=\"danger\" onClick={() => this.handleCancelButton(booking)}>Cancel</Button>\n                                    </td>\n                                }\n                            </tr>\n                        )}\n                    </tbody>\n                </Table>\n            </Container>\n        )\n    }\n}\n\nexport default MyBookingPage;\n","/* Bookings details page */\nimport React, { Component } from 'react';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport { Alert, Button, Col } from 'react-bootstrap';\nimport BookingServiceApi from '../../api/BookingServiceApi';\nimport CarServiceApi from '../../api/CarServiceApi';\nimport LocationServiceApi from '../../api/LocationServiceApi';\n\nclass BookingDetailsPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            location: {},\n            booking: {},\n            car: {},\n            errorMessage: '',\n            activeMarker: {},\n            showingInfoWindow: false,\n            selectedPlace: {},\n            isLoading: false\n        };\n        this.handleCancelButton = this.handleCancelButton.bind(this);\n        this.getBookingDetails = this.getBookingDetails.bind(this);\n        this.checkBookingPast = this.checkBookingPast.bind(this);\n    }\n\n    getBookingDetails() {\n        // obtain a user's booking by booking id and also car and location associated\n        BookingServiceApi.getUserBooking(this.props.match.params.id)\n            .then(res => {\n                this.setState({\n                    booking: res.data.booking\n                });\n                CarServiceApi.getCar(this.state.booking.car)\n                    .then(res => {\n                        this.setState({\n                            car: res.data.car\n                        })\n                    });\n                LocationServiceApi.getLocationFromId(this.state.booking.location)\n                    .then(res => {\n                        LocationServiceApi.getGeocodeFromAddress(res.data.address)\n                            .then(newRes => {\n                                // Create object with address, latitude and longitude\n                                let locationObject = {\n                                    id: res.data._id,\n                                    address: res.data.address,\n                                    name: res.data.name,\n                                    lat: newRes.data.results[0].geometry.location.lat,\n                                    lng: newRes.data.results[0].geometry.location.lng,\n                                    cars: res.data.cars\n                                };\n                                // set new location object to react state array\n                                this.setState({\n                                    location: locationObject,\n                                    isLoading: true\n                                });\n                            });\n                    });\n            }).catch((error) => {\n                this.setState({ errorMessage: error.response.data.message });\n            })\n    }\n\n    mapOnMarkerClick = (props, marker) =>\n        this.setState({\n            selectedPlace: props,\n            activeMarker: marker,\n            showingInfoWindow: true,\n        });\n\n    mapOnMapClick = () =>\n        this.setState({\n            showingInfoWindow: false,\n            selectedPlace: {},\n            activeMarker: {}\n        });\n\n    componentDidMount() {\n        this.getBookingDetails();\n    }\n\n    handleCancelButton() {\n        // modify booking status to cancelled\n        let booking = this.state.booking;\n        booking.status = 'Cancelled';\n        booking.id = booking._id;\n        this.setState({\n            booking: booking\n        });\n        BookingServiceApi.modifyBooking(this.state.booking)\n            .then(() => {\n                this.getBookingDetails()\n            }).catch((error) => {\n                this.setState({ errorMessage: error.response.data.message });\n            });\n    }\n\n    checkBookingPast(pickupTime) {\n        // check if booking pickup time has past current time\n        let currentTime = new Date();\n        currentTime.setMinutes(currentTime.getMinutes() - currentTime.getTimezoneOffset());\n        return new Date(pickupTime) > currentTime;\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2>Booking details</h2>\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error obtaining booking!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                {!this.state.errorMessage &&\n                    <>\n                        {this.state.isLoading && <div id=\"garage-map\" style={{ height: '400px' }}>\n                            <Map google={this.props.google}\n                                initialCenter={{\n                                    lat: this.state.location.lat,\n                                    lng: this.state.location.lng\n                                }}\n                                style={{ height: '400px', width: '400px' }}\n                                zoom={14}\n                                onClick={this.mapOnMapClick}>\n\n                                <Marker\n                                    id={this.state.location.id}\n                                    name={this.state.location.name}\n                                    address={this.state.location.address}\n                                    onClick={this.mapOnMarkerClick}\n                                    position={{ lat: this.state.location.lat, lng: this.state.location.lng }}\n                                />\n\n                                <InfoWindow\n                                    onClose={this.onInfoWindowClose}\n                                    marker={this.state.activeMarker}\n                                    visible={this.state.showingInfoWindow}>\n                                    <div id=\"info-window\">\n                                        <h2>{this.state.selectedPlace.name}</h2>\n                                        <p>{this.state.selectedPlace.address}</p>\n                                        <a href={\"/locations/\" + this.state.selectedPlace.id}>Check out this location</a>\n                                    </div>\n                                </InfoWindow>\n                            </Map>\n                        </div>}\n                        <b>Booking ID: </b> {this.state.booking._id} <br></br>\n                        <b>Booking time: </b> {this.state.booking.bookedtime} <br></br>\n                        <b>Pickup time: </b> {this.state.booking.pickuptime} <br></br>\n                        <b>Return time: </b> {this.state.booking.returntime} <br></br>\n                        <b>Cost: </b> ${this.state.booking.cost} <br></br>\n                        <b>Location: </b> {this.state.location.name} <br></br>\n                        <b>Address: </b> {this.state.location.address} <br></br>\n                        <b>Status: </b> {this.state.booking.status} <br></br>\n                        {(this.state.booking.status === \"Confirmed\" && this.checkBookingPast(this.state.booking.pickuptime)) &&\n                            <Button variant=\"danger\" onClick={this.handleCancelButton}>Cancel</Button>\n                        }\n                        <Col sm={4}>\n                            <div className=\"cars-div-white\" style={{ 'border': 'solid black 2px' }}>\n                                <img src={this.state.car.image} alt=\"car\" width=\"100\" />\n                                <h2 style={{ marginTop: '1vh' }}>{this.state.car.make}</h2>\n                                <p>{this.state.car.fueltype}, {this.state.car.bodytype}, {this.state.car.seats} seaters, {this.state.car.colour}</p>\n                                <h5>Number Plate: {this.state.car.numberplate}</h5>\n                                <p><b>Car ID: </b>{this.state.car._id}</p>\n                            </div>\n                        </Col>\n                    </>\n                }\n            </div>\n        )\n    }\n}\n\nexport default GoogleApiWrapper({\n    apiKey: process.env.REACT_APP_API_KEY\n})(BookingDetailsPage);\n","/* My profile page for customers */\nimport React, { Component } from 'react';\nimport { Button, Container } from 'react-bootstrap';\nconst { default: UserServiceApi } = require(\"../api/UserServiceApi\");\n\nclass MyProfilePage extends Component {\n    render() {\n        const userData = UserServiceApi.getLoggedInUserDetails();\n        return (\n            <Container>\n                <h2>My Profile</h2>\n                <strong>First name: </strong>{userData.firstname} <br></br>\n                <strong>Last name: </strong>{userData.lastname} <br></br>\n                <strong>Email: </strong>{userData.email} <br></br>\n                <strong>Customer ID: </strong>{userData.id} <br></br>\n                <Button href='/mybookings'>View My Bookings</Button>\n            </Container>\n        )\n    }\n}\n\nexport default MyProfilePage;\n","/* Staff overview page */\nimport React, { Component } from 'react';\nconst { default: UserServiceApi } = require(\"../../api/UserServiceApi\");\n\nexport default class overview extends Component {\n    render() {\n        const userData = UserServiceApi.getLoggedInUserDetails();\n        return (\n            <div className=\"container\">\n                <h2>My Profile</h2>\n                <strong>First name: </strong>{userData.firstname} <br></br>\n                <strong>Last name: </strong>{userData.lastname} <br></br>\n                <strong>Email: </strong>{userData.email} <br></br>\n                <strong>Staff ID: </strong>{userData.id} <br></br>\n                <strong>Staff type: </strong>{userData.usertype} <br></br>\n            </div>\n        )\n    }\n}\n","/* Admin sign up page */\nimport React, { Component } from 'react';\nimport { Form, Col, Button, Row, Alert } from 'react-bootstrap';\nimport UserServiceApi from '../../api/UserServiceApi.js'\n\nclass AdminSignUpPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            firstname: '',\n            lastname: '',\n            email: '',\n            password: '',\n            usertype: '',\n            errorMessage: '',\n            successMessage: ''\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    /* Set react state for each input when user inputs something on signup form */\n    handleChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n\n    handleSubmit = event => {\n        // generate new user object\n        let newUser = {\n            firstname: this.state.firstname.trim(),\n            lastname: this.state.lastname.trim(),\n            email: this.state.email,\n            password: this.state.password,\n            usertype: this.state.usertype\n        };\n        // input validation\n        if (this.state.firstname === '') {\n            return this.setState({ errorMessage: \"First name can't be empty!\" });\n        }\n        if (this.state.lastname === '') {\n            return this.setState({ errorMessage: \"Last name can't be empty!\" });\n        }\n        const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if (!emailRegex.test(String(this.state.email).toLowerCase())) {\n            return this.setState({ errorMessage: \"Please enter a valid email!\" });\n        }\n        // publish create user request to backend\n        UserServiceApi.createNewUser(newUser).then(() => {\n            this.setState({\n                successMessage: 'User has been created!',\n                errorMessage: ''\n            });\n        }).catch((error) => {\n            // display error if there's any\n            this.setState({ errorMessage: error.response.data.message });\n        })\n    };\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2>Create Account</h2>\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Sign up failed!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                {this.state.successMessage && <Alert variant=\"success\">\n                    <Alert.Heading>Account created!</Alert.Heading>\n                    <p>\n                        {this.state.successMessage}\n                    </p>\n                </Alert>}\n                <Form>\n                    <Form.Group as={Row} controlId=\"formHorizontalFirstName\">\n                        <Form.Label column sm={2}>\n                            First Name\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"firstname\" type=\"firstname\" placeholder=\"First Name\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formHorizontalLastName\">\n                        <Form.Label column sm={2}>\n                            Last Name\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"lastname\" type=\"lastname\" placeholder=\"Last Name\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formHorizontalEmail\">\n                        <Form.Label column sm={2}>\n                            Email\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"email\" type=\"email\" placeholder=\"Email\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formHorizontalPassword\">\n                        <Form.Label column sm={2}>\n                            Password\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"password\" type=\"password\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\" title=\"Must contain: at least one number, one uppercase, lowercase letter, and at least 8 or more characters\" placeholder=\"Password\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formHorizontalUserType\">\n                        <Form.Label column sm={2}>Account Type</Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"usertype\" as=\"select\" onChange={this.handleChange} required>\n                                <option disabled selected>Select account type</option>\n                                <option>customer</option>\n                                <option>staff</option>\n                                <option>admin</option>\n                            </Form.Control>\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row}>\n                        <Col sm={{ span: 10, offset: 2 }}>\n                            <Button onClick={this.handleSubmit}>Create Account</Button>\n                        </Col>\n                    </Form.Group>\n                </Form>\n\n            </div>\n        )\n    }\n}\n\nexport default AdminSignUpPage;\n","/* Create car page */\nimport React, { Component } from 'react';\nimport LocationServiceApi from '../../api/LocationServiceApi';\nimport CarServiceApi from '../../api/CarServiceApi';\nimport { CAR_COLOURS, CAR_BODY_TYPES, CAR_FUEL_TYPES, CAR_SEATS, FILE_UPLOAD_LIMIT } from '../../Constants.js';\nimport { Form, Col, Button, Row, Alert } from 'react-bootstrap';\n\nexport default class createCar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            make: '',\n            seats: '',\n            bodytype: '',\n            numberplate: '',\n            colour: '',\n            costperhour: '',\n            fueltype: '',\n            location: '',\n            locationList: [],\n            disableSubmit: false,\n            successMsg: '',\n            errMsg: '',\n            b64photo: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleFile = this.handleFile.bind(this);\n    }\n\n    resetState = () => {\n        this.setState({\n            make: '',\n            seats: '',\n            bodytype: '',\n            numberplate: '',\n            colour: '',\n            costperhour: '',\n            fueltype: '',\n            location: '',\n            b64photo: ''\n        });\n    }\n\n    handleFile = (event) => {\n        // handle image uploaded for car\n        let files = event.target.files;\n        if (files !== null) {\n            // file size validation\n            if (event.target.files[0].size > FILE_UPLOAD_LIMIT) {\n                return this.setState({\n                    errMsg: 'Image exceeded upload size limit! Please try again with another image.'\n                });\n            }\n            let reader = new FileReader();\n            reader.readAsDataURL(files[0]);\n            reader.onload = (event) => {\n                this.setState({\n                    b64photo: event.target.result,\n                    errMsg: ''\n                });\n            }\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({ [event.target.name]: event.target.value });\n    }\n\n    inputValidation = () => {\n        const { make, seats, bodytype, numberplate,\n            colour, costperhour, fueltype, location, b64photo } = this.state;\n\n        if (make === '' || seats === '' || bodytype === '' || numberplate === ''\n            || colour === '' || costperhour === '' || fueltype === '' || location === '' || b64photo === '') {\n            this.setState({\n                errMsg: \"Please fill in everything\"\n            });\n            return false;\n        }\n        else {\n            this.setState({\n                errMsg: \"\"\n            })\n            return true;\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        if (!this.inputValidation()) {\n            return;\n        }\n        this.setState({\n            disableSubmit: true\n        })\n        // generate a new car object\n        const newCar = {\n            make: this.state.make.trim(),\n            seats: this.state.seats,\n            bodytype: this.state.bodytype,\n            numberplate: this.state.numberplate.trim(),\n            colour: this.state.colour,\n            costperhour: this.state.costperhour,\n            fueltype: this.state.fueltype,\n            location: this.state.location,\n            b64photo: this.state.b64photo\n        };\n        // publish car object to backend\n        CarServiceApi.createNewCar(newCar).then((res) => {\n            this.setState({\n                disableSubmit: false,\n                successMsg: \"Successfully added car\",\n                errMsg: \"\"\n            });\n        }, (err) => {\n            this.setState({\n                disableSubmit: false,\n                successMsg: \"\",\n                errMsg: err.response.data.message\n            });\n            console.log(err.response);\n        })\n    }\n\n    componentDidMount() {\n        LocationServiceApi.getAllLocations().then((res) => {\n            res.data.map(location => this.setState({ locationList: this.state.locationList.concat(location.address) }));\n        }, (err) => {\n            console.log(err.response);\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2>Create Car</h2>\n                {this.state.errMsg &&\n                    <Alert variant=\"danger\">\n                        <Alert.Heading>Add car failed!</Alert.Heading>\n                        <p>\n                            {this.state.errMsg}\n                        </p>\n                    </Alert>\n                }\n\n                {this.state.successMsg &&\n                    <Alert variant=\"success\">\n                        <Alert.Heading>Add car succeed!</Alert.Heading>\n                        <p>\n                            {this.state.successMsg}\n                        </p>\n                    </Alert>\n                }\n                <Form>\n                    <Form.Group as={Row} controlId=\"formHorizontalMake\">\n                        <Form.Label column sm={2}>\n                            Make\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"make\" type=\"make\" placeholder=\"Car Make\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalSeats\">\n                        <Form.Label column sm={2}>\n                            Seats\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control as=\"select\" name=\"seats\" type=\"seats\" onChange={this.handleChange} required>\n                                <option disabled selected>Select seat number</option>\n                                {\n                                    CAR_SEATS.map((option, index) =>\n                                        <option key={index} value={option}>{option}</option>\n                                    )\n                                }\n                            </Form.Control>\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalBodyType\">\n                        <Form.Label column sm={2}>\n                            Body type\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control as=\"select\" name=\"bodytype\" type=\"bodytype\" onChange={this.handleChange} required>\n                                <option disabled selected>Select body type</option>\n                                {\n                                    CAR_BODY_TYPES.map((option, index) =>\n                                        <option key={index} value={option}>{option}</option>\n                                    )\n                                }\n                            </Form.Control>\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalNumberPlate\">\n                        <Form.Label column sm={2}>\n                            Number Plate\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"numberplate\" type=\"numberplate\" placeholder=\"Enter plate number\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalColour\">\n                        <Form.Label column sm={2}>\n                            Colour\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control as=\"select\" name=\"colour\" type=\"colour\" onChange={this.handleChange} required>\n                                <option disabled selected>Select colour</option>\n                                {\n                                    CAR_COLOURS.map((option, index) =>\n                                        <option key={index} value={option}>{option}</option>\n                                    )\n                                }\n                            </Form.Control>\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalCostPerHour\">\n                        <Form.Label column sm={2}>\n                            Cost per hour\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"costperhour\" type=\"number\" placeholder=\"Select cost per hour\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalFuelType\">\n                        <Form.Label column sm={2}>\n                            Fuel type\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control as=\"select\" name=\"fueltype\" type=\"fueltype\" onChange={this.handleChange} required>\n                                <option disabled selected>Select fuel type</option>\n                                {\n                                    CAR_FUEL_TYPES.map((option, index) =>\n                                        <option key={index} value={option}>{option}</option>\n                                    )\n                                }\n                            </Form.Control>\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalLocation\">\n                        <Form.Label column sm={2}>\n                            Location\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control as=\"select\" name=\"location\" type=\"location\" onChange={this.handleChange} required>\n                                <option disabled selected>Select location</option>l\n                                {\n                                    this.state.locationList.map((option, index) =>\n                                        <option key={index} value={option}>{option}</option>\n                                    )\n                                }\n                            </Form.Control>\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalLocation\">\n                        <Form.Label column sm={2}>\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.File\n                                id=\"custom-file\"\n                                label=\"Car Image (4MB max)\"\n                                name=\"b64photo\"\n                                accept=\"image/*\"\n                                onChange={this.handleFile}\n                            />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row}>\n                        <Col sm={{ span: 10, offset: 2 }}>\n                            <Button onClick={this.handleSubmit} disabled={this.state.disableSubmit}>Create Car</Button>\n                        </Col>\n                    </Form.Group>\n                </Form>\n            </div>\n        )\n    }\n}\n","/* Create location page */\nimport React, { Component } from 'react'\nimport LocationServiceApi from '../../api/LocationServiceApi'\nimport { Form, Col, Button, Row, Alert } from 'react-bootstrap';\nimport PlacesAutocomplete from 'react-places-autocomplete';\n\nexport default class CreateLocation extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: '',\n            address: '',\n            errMsg: '',\n            gmapsLoaded: false,\n            disableSubmit: false,\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleAutocomplete = this.handleAutocomplete.bind(this);\n    }\n\n    initMap = () => {\n        this.setState({\n            gmapsLoaded: true,\n        });\n    }\n\n    handleAutocomplete = address => {\n        this.setState({ address });\n    }\n\n    handleChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    }\n\n    handleSubmit = event => {\n        // create new location handler\n        const { name, address } = this.state;\n        event.preventDefault();\n\n        this.setState({\n            successMsg: \"\",\n            errMsg: \"\",\n            disableSubmit: true\n        });\n\n        // input validation\n        if (name === '' || address === '') {\n            this.setState({\n                errMsg: \"name and address cannot be empty\",\n                disableSubmit: false\n            });\n        } else {\n            // create new location object\n            let newLoc = {\n                name: name.trim(),\n                address: address\n            };\n            // publish location object to backend\n            LocationServiceApi.createNewLocation(newLoc).then(res => {\n                console.log(res.data)\n                this.setState({\n                    successMsg: \"Location successfully added\",\n                    disableSubmit: false,\n                    name: '',\n                    address: ''\n                });\n            }, error => {\n                this.setState({\n                    errMsg: error.response.data.message,\n                    disableSubmit: false\n                });\n            });\n        }\n    }\n\n    componentDidMount() {\n        // initialise address autocomplete api\n        window.initMap = this.initMap;\n        const gmapScriptEl = document.createElement(`script`);\n        gmapScriptEl.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.REACT_APP_API_KEY}&libraries=places&callback=initMap`;\n        document.querySelector(`body`).insertAdjacentElement(`beforeend`, gmapScriptEl);\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2>Create Location</h2>\n                {this.state.errMsg &&\n                    <Alert variant=\"danger\">\n                        <Alert.Heading>Add location failed!</Alert.Heading>\n                        <p>\n                            {this.state.errMsg}\n                        </p>\n                    </Alert>\n                }\n\n                {this.state.successMsg &&\n                    <Alert variant=\"success\">\n                        <Alert.Heading>Add location succeed!</Alert.Heading>\n                        <p>\n                            {this.state.successMsg}\n                        </p>\n                    </Alert>\n                }\n                <Form>\n                    <Form.Group as={Row} controlId=\"formHorizontalName\">\n                        <Form.Label column sm={2} required>\n                            Name\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"name\" type=\"name\" placeholder=\"Location Name\" onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalName\">\n                        <Form.Label column sm={2}>\n                            Enter Address\n                        </Form.Label>\n                        <Col sm={10}>\n                            {this.state.gmapsLoaded &&\n                                <PlacesAutocomplete\n                                    value={this.state.address}\n                                    onChange={this.handleAutocomplete}\n                                    onSelect={this.handleSelect}\n                                >\n                                    {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n                                        <div>\n                                            <Form.Control\n                                                {...getInputProps({\n                                                    placeholder: 'Search Places ...',\n                                                    className: 'location-search-input',\n                                                    required: true\n                                                })}\n                                            />\n                                            <div className=\"autocomplete-dropdown-container\">\n                                                {loading && <div>Loading...</div>}\n                                                {suggestions.map(suggestion => {\n                                                    const className = suggestion.active\n                                                        ? 'suggestion-item--active'\n                                                        : 'suggestion-item';\n                                                    // inline style for demonstration purpose\n                                                    const style = suggestion.active\n                                                        ? { backgroundColor: '#fafafa', cursor: 'pointer' }\n                                                        : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                                                    return (\n                                                        <div\n                                                            {...getSuggestionItemProps(suggestion, {\n                                                                className,\n                                                                style,\n                                                            })}\n                                                        >\n                                                            <span>{suggestion.description}</span>\n                                                        </div>\n                                                    );\n                                                })}\n                                            </div>\n                                        </div>\n                                    )}\n                                </PlacesAutocomplete>\n                            }\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row}>\n                        <Col sm={{ span: 10, offset: 2 }}>\n                            <Button onClick={this.handleSubmit} disabled={this.state.disableSubmit}>Create Location</Button>\n                        </Col>\n                    </Form.Group>\n                </Form>\n            </div>\n        )\n    }\n}\n","/* View all customers page */\nimport React, { Component } from 'react';\nimport { Alert, Button, Table, Container } from 'react-bootstrap';\nconst { default: UserServiceApi } = require(\"../../api/UserServiceApi\");\n\nexport default class ViewAllCustomersPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            customers: [],\n            errorMessage: ''\n        };\n    }\n\n    componentDidMount() {\n        // fetch all customers\n        UserServiceApi.getAllCustomers().then(res => {\n            this.setState({\n                customers: res.data.customers.reverse()\n            });\n        }).catch((error) => {\n            this.setState({ errorMessage: error.response.data.message });\n        });\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error obtaining customers!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                <h2>View All Customers</h2>\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>Customer ID</th>\n                            <th>First name</th>\n                            <th>Last name</th>\n                            <th>Email</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.state.customers.map(customer =>\n                            <tr>\n                                <td>{customer.id}</td>\n                                <td>{customer.firstname}</td>\n                                <td>{customer.lastname}</td>\n                                <td>{customer.email}</td>\n                                <td><Button href={`/admin/view/customers/${customer.id}`}>View</Button></td>\n                            </tr>\n                        )}\n                    </tbody>\n                </Table>\n            </Container>\n        )\n    }\n}\n","/* View customer page */\nimport React, { Component } from 'react';\nimport { Alert, Button, Container, ButtonGroup } from 'react-bootstrap';\nconst { default: UserServiceApi } = require(\"../../api/UserServiceApi\");\n\nexport default class ViewCustomerPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            customer: {},\n            errorMessage: ''\n        };\n    }\n\n    componentDidMount() {\n        // fetch customer by id\n        UserServiceApi.getUserFromId(this.props.match.params.id).then(res => {\n            this.setState({\n                customer: res.data.user\n            });\n        }).catch((error) => {\n            this.setState({ errorMessage: error.response.data.message });\n        });\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error fetching customer details!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                <h2>Customer Details</h2>\n                <strong>Customer ID:</strong> {this.state.customer._id} <br></br>\n                <strong>First name:</strong> {this.state.customer.firstname} <br></br>\n                <strong>Last name:</strong> {this.state.customer.lastname} <br></br>\n                <strong>Email:</strong> {this.state.customer.email} <br></br>\n                <ButtonGroup style={{ marginTop: '3vh' }}>\n                    <Button href={`/admin/view/customers/${this.state.customer._id}/bookings`}>View Customer's Bookings</Button>\n                    <Button href={`/admin/modify/customers/${this.state.customer._id}`}>Modify Customer Details</Button>\n                </ButtonGroup>\n            </Container>\n        )\n    }\n}\n","/* Modify customer details page */\nimport React, { Component } from 'react';\nimport { Alert, Button, Form, Col, Row } from 'react-bootstrap';\nconst { default: UserServiceApi } = require(\"../../api/UserServiceApi\");\n\nexport default class ModifyCustomerDetailsPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            customer: {},\n            firstname: '',\n            lastname: '',\n            email: '',\n            fetchErrorMessage: '',\n            modifyErrorMessage: ''\n        };\n    }\n\n    componentDidMount() {\n        // fetch user by id\n        UserServiceApi.getUserFromId(this.props.match.params.id).then(res => {\n            this.setState({\n                firstname: res.data.user.firstname,\n                lastname: res.data.user.lastname,\n                email: res.data.user.email,\n                id: res.data.user._id,\n                customer: res.data.user\n            });\n        }).catch((error) => {\n            this.setState({ fetchErrorMessage: error.response.data.message });\n        });\n    }\n\n    handleChange = event => {\n        this.setState({ [event.target.name]: event.target.value })\n    }\n\n    handleSubmit = (event) => {\n        // modify customer details handler\n        event.preventDefault();\n        let modifiedCustomer = this.state.customer;\n        // input validation\n        if (this.state.firstname.trim() !== '')\n            modifiedCustomer.firstname = this.state.firstname.trim();\n        else\n            return this.setState({ modifyErrorMessage: \"First name shall not be empty\" });\n        if (this.state.lastname.trim() !== '')\n            modifiedCustomer.lastname = this.state.lastname.trim();\n        else\n            return this.setState({ modifyErrorMessage: \"Last name shall not be empty\" });\n        if (this.state.email.trim() !== '') {\n            let checkEmailExistsPayload = {\n                email: this.state.email.trim()\n            }\n            // check if modified email exists\n            UserServiceApi.checkEmailExists(checkEmailExistsPayload).then(res => {\n                if (!(res.data.exist) || (this.state.email === this.state.customer.email)) {\n                    modifiedCustomer.email = this.state.email.trim();\n                    // publish modified customer to backend\n                    UserServiceApi.updateUser(modifiedCustomer).then(res => {\n                        return window.location.href = `/admin/view/customers/${this.state.customer._id}`;\n                    }).catch((error) => {\n                        return this.setState({ modifyErrorMessage: error.response.data.message });\n                    })\n                } else {\n                    return this.setState({ modifyErrorMessage: \"Email already exists! Please revert or try another one.\" });\n                }\n            }).catch(() => {\n                return this.setState({ modifyErrorMessage: \"Error checking if email exists!\" });\n            })\n        }\n        else\n            return this.setState({ modifyErrorMessage: \"Email shall not be empty\" });\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                {this.state.fetchErrorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error fetching customer details!</Alert.Heading>\n                    <p>\n                        {this.state.fetchErrorMessage}\n                    </p>\n                </Alert>}\n                {this.state.modifyErrorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error modifying customer details!</Alert.Heading>\n                    <p>\n                        {this.state.modifyErrorMessage}\n                    </p>\n                </Alert>}\n                <h2>Modify Customer Details</h2>\n                <strong>Customer ID:</strong> {this.state.customer._id} <br></br>\n                <Form>\n                    <Form.Group as={Row} controlId=\"formHorizontalFirstName\">\n                        <Form.Label column sm={2}>\n                            First Name\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"firstname\" type=\"text\" value={this.state.firstname} onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalLastName\">\n                        <Form.Label column sm={2}>\n                            Last Name\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"lastname\" type=\"text\" value={this.state.lastname} onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalEmail\">\n                        <Form.Label column sm={2}>\n                            Email\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"email\" type=\"email\" value={this.state.email} onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row}>\n                        <Col sm={{ span: 10, offset: 2 }}>\n                            <Button onClick={this.handleSubmit}>Modify User</Button>\n                            <Button variant=\"danger\" href={`/admin/view/customers/${this.state.customer._id}`}>Cancel</Button>\n                        </Col>\n                    </Form.Group>\n                </Form>\n            </div>\n        )\n    }\n}\n","/* View all bookings page */\nimport React, { Component } from 'react';\nimport { Alert, Button, Table, Container } from 'react-bootstrap';\nimport BookingServiceApi from '../../api/BookingServiceApi';\nconst { default: LocationServiceApi } = require(\"../../api/LocationServiceApi\");\nconst { default: CarServiceApi } = require(\"../../api/CarServiceApi\");\n\nexport default class ViewAllBookingsPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            bookings: [],\n            locations: [],\n            cars: [],\n            errorMessage: ''\n        };\n    }\n\n    componentDidMount() {\n        // obtain all bookings, locations and cars for rendering\n        BookingServiceApi.getAllBookings().then(res => {\n            this.setState({\n                // sort bookings by latest\n                bookings: res.data.bookings.reverse()\n            });\n        }).catch((error) => {\n            this.setState({ errorMessage: error.response.data.message });\n        });\n        LocationServiceApi.getAllLocations()\n            .then(res => {\n                let locationArray = this.state.locations;\n                res.data.forEach(location => {\n                    let locationObject = {\n                        id: location._id,\n                        address: location.address,\n                        name: location.name\n                    };\n                    locationArray.push(locationObject);\n                    this.setState({ locations: locationArray });\n                });\n            }).catch((error) => {\n                this.setState({ errorMessage: error.response.data.message });\n            })\n        CarServiceApi.getAllCars()\n            .then(res => {\n                this.setState({\n                    cars: res.data.cars\n                });\n            }).catch((error) => {\n                this.setState({ errorMessage: error.response.data.message });\n            });\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error fetching all bookings!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                <h2>View All Bookings</h2>\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>Booking ID</th>\n                            <th>User ID</th>\n                            <th>Booked Time</th>\n                            <th>Pickup Time</th>\n                            <th>Return Time</th>\n                            <th>Car ID</th>\n                            <th>Cost</th>\n                            <th>Location</th>\n                            <th>Address</th>\n                            <th>Status</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.state.bookings.map(booking =>\n                            <tr>\n                                <td>{booking.id}</td>\n                                <td><a href={`/admin/view/customers/${booking.user}`}>{booking.user}</a></td>\n                                <td>{booking.bookedtime}</td>\n                                <td>{booking.pickuptime}</td>\n                                <td>{booking.returntime}</td>\n                                <td>\n                                    {this.state.cars.map(car =>\n                                        <>\n                                            {car.id === booking.car &&\n                                                <>\n                                                    <a href={`/admin/view/cars/${booking.car}`}>{car.make}</a>\n                                                </>\n                                            }\n                                        </>\n                                    )}\n                                </td>\n                                <td>${booking.cost}</td>\n                                <td>\n                                    {this.state.locations.map(location =>\n                                        <>\n                                            {location.id === booking.location &&\n                                                <>\n                                                    <a href={`/admin/view/location/${booking.location}`}>{location.name}</a>\n                                                </>\n                                            }\n                                        </>\n                                    )}\n                                </td>\n                                <td>\n                                    {this.state.locations.map(location =>\n                                        <>\n                                            {location.id === booking.location &&\n                                                <>\n                                                    {location.address}\n                                                </>\n                                            }\n                                        </>\n                                    )}\n                                </td>\n                                <td>{booking.status}</td>\n                                <td>\n                                    <Button href={`/admin/view/bookings/${booking.id}`}>View</Button>\n                                </td>\n                            </tr>\n                        )}\n                    </tbody>\n                </Table>\n            </Container>\n        )\n    }\n}\n","/* View booking page */\nimport React, { Component } from 'react';\nimport { Alert, Button, Container, Col } from 'react-bootstrap';\nimport BookingServiceApi from '../../api/BookingServiceApi';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nconst { default: LocationServiceApi } = require(\"../../api/LocationServiceApi\");\nconst { default: CarServiceApi } = require(\"../../api/CarServiceApi\");\n\nclass ViewBookingPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            booking: {},\n            car: {},\n            location: {},\n            errorMessage: '',\n            activeMarker: {},\n            showingInfoWindow: false,\n            selectedPlace: {},\n            isLoading: false\n        };\n        this.handleCancelButton = this.handleCancelButton.bind(this);\n    }\n\n    getBookingDetails() {\n        // get booking details by id, also fetch required elements\n        BookingServiceApi.getBooking(this.props.match.params.id)\n            .then(res => {\n                this.setState({\n                    booking: res.data.booking\n                });\n                CarServiceApi.getCar(this.state.booking.car)\n                    .then(res => {\n                        this.setState({\n                            car: res.data.car\n                        });\n                    });\n                LocationServiceApi.getLocationFromId(this.state.booking.location)\n                    .then(res => {\n                        LocationServiceApi.getGeocodeFromAddress(res.data.address)\n                            .then(newRes => {\n                                // Create object with address, latitude and longitude\n                                let locationObject = {\n                                    id: res.data._id,\n                                    address: res.data.address,\n                                    name: res.data.name,\n                                    lat: newRes.data.results[0].geometry.location.lat,\n                                    lng: newRes.data.results[0].geometry.location.lng,\n                                    cars: res.data.cars\n                                };\n                                // set new location object to react state array\n                                this.setState({\n                                    location: locationObject,\n                                    isLoading: true\n                                });\n                            });\n                    });\n            }).catch((error) => {\n                this.setState({ errorMessage: error.response.data.message });\n            });\n    }\n\n    mapOnMarkerClick = (props, marker) =>\n        this.setState({\n            selectedPlace: props,\n            activeMarker: marker,\n            showingInfoWindow: true,\n        });\n\n    mapOnMapClick = () =>\n        this.setState({\n            showingInfoWindow: false,\n            selectedPlace: {},\n            activeMarker: {}\n        });\n\n    componentDidMount() {\n        this.getBookingDetails();\n    }\n\n    handleCancelButton() {\n        // change booking status to cancelled\n        let booking = this.state.booking;\n        booking.status = 'Cancelled';\n        booking.id = booking._id;\n        this.setState({\n            booking: booking\n        });\n        // update booking object in backend\n        BookingServiceApi.modifyBooking(this.state.booking)\n            .then(() => {\n                this.getBookingDetails();\n            });\n    }\n\n    checkBookingPast(pickupTime) {\n        // check if booking pickup time has past current time\n        let currentTime = new Date();\n        currentTime.setMinutes(currentTime.getMinutes() - currentTime.getTimezoneOffset());\n        return new Date(pickupTime) > currentTime;\n    }\n\n    render() {\n        return (\n            <Container>\n                <h2>Booking details</h2>\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error obtaining booking!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                {this.state.isLoading && <div id=\"garage-map\" style={{ height: '400px' }}>\n                    <Map google={this.props.google}\n                        initialCenter={{\n                            lat: this.state.location.lat,\n                            lng: this.state.location.lng\n                        }}\n                        style={{ height: '400px', width: '400px' }}\n                        zoom={14}\n                        onClick={this.mapOnMapClick}>\n\n                        <Marker\n                            id={this.state.location.id}\n                            name={this.state.location.name}\n                            address={this.state.location.address}\n                            onClick={this.mapOnMarkerClick}\n                            position={{ lat: this.state.location.lat, lng: this.state.location.lng }}\n                        />\n\n                        <InfoWindow\n                            onClose={this.onInfoWindowClose}\n                            marker={this.state.activeMarker}\n                            visible={this.state.showingInfoWindow}>\n                            <div id=\"info-window\">\n                                <h2>{this.state.selectedPlace.name}</h2>\n                                <p>{this.state.selectedPlace.address}</p>\n                                <a href={\"/locations/\" + this.state.selectedPlace.id}>Check out this location</a>\n                            </div>\n                        </InfoWindow>\n                    </Map>\n                </div>}\n                {!this.state.errorMessage &&\n                    <>\n                        <b>Booking ID: </b> {this.state.booking._id} <br></br>\n                        <b>Booking time: </b> {this.state.booking.bookedtime} <br></br>\n                        <b>Pickup time: </b> {this.state.booking.pickuptime} <br></br>\n                        <b>Return time: </b> {this.state.booking.returntime} <br></br>\n                        <b>Cost: </b> ${this.state.booking.cost} <br></br>\n                        <b>Location: </b> <a href={`/admin/view/location/${this.state.location.id}`}>{this.state.location.name}</a> <br></br>\n                        <b>Address: </b> {this.state.location.address} <br></br>\n                        <b>Status: </b> {this.state.booking.status} <br></br>\n                        {(this.state.booking.status === \"Confirmed\" && this.checkBookingPast(this.state.booking.pickuptime)) &&\n                            <Button variant=\"danger\" onClick={this.handleCancelButton}>Cancel</Button>\n                        }\n                        <Col sm={4}>\n                            <div className=\"cars-div-white\" style={{ 'border': 'solid black 2px' }}>\n                                <img src={this.state.car.image} alt=\"car\" width=\"100\" />\n                                <h2 style={{ marginTop: '1vh' }}>{this.state.car.make}</h2>\n                                <p>{this.state.car.fueltype}, {this.state.car.bodytype}, {this.state.car.seats} seaters, {this.state.car.colour}</p>\n                                <h5>${this.state.car.costperhour} per hour</h5>\n                                <h5>Number Plate: {this.state.car.numberplate}</h5>\n                                <a href={`/admin/view/cars/${this.state.car._id}`}><b>Car ID: </b>{this.state.car._id}</a>\n                            </div>\n                        </Col>\n                    </>\n                }\n            </Container>\n        )\n    }\n}\n\nexport default GoogleApiWrapper({\n    apiKey: process.env.REACT_APP_API_KEY\n})(ViewBookingPage);\n","/* View customer bookings page */\nimport React, { Component } from 'react';\nimport { Alert, Button, Table } from 'react-bootstrap';\nimport BookingServiceApi from '../../api/BookingServiceApi';\nconst { default: LocationServiceApi } = require(\"../../api/LocationServiceApi\");\nconst { default: CarServiceApi } = require(\"../../api/CarServiceApi\");\n\nexport default class ViewCustomerBookingsPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            bookings: [],\n            locations: [],\n            cars: [],\n            errorMessage: ''\n        };\n    }\n\n    componentDidMount() {\n        // get all of customer's bookings details by user id and also required elements\n        BookingServiceApi.getUserBookings(this.props.match.params.id).then(res => {\n            this.setState({\n                // sort bookings by latest\n                bookings: res.data.bookings.reverse()\n            })\n        }).catch((error) => {\n            this.setState({ errorMessage: error.response.data.message });\n        })\n        LocationServiceApi.getAllLocations()\n            .then(res => {\n                let locationArray = this.state.locations;\n                res.data.forEach(location => {\n                    let locationObject = {\n                        id: location._id,\n                        address: location.address,\n                        name: location.name\n                    };\n                    locationArray.push(locationObject);\n                    this.setState({ locations: locationArray });\n                })\n            }).catch((error) => {\n                this.setState({ errorMessage: error.response.data.message });\n            });\n        CarServiceApi.getAllCars()\n            .then(res => {\n                this.setState({\n                    cars: res.data.cars\n                });\n            }).catch((error) => {\n                this.setState({ errorMessage: error.response.data.message });\n            });\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error fetching customer's bookings!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                <h2>Bookings for Customer {this.props.match.params.id}</h2>\n                <Button href={`/admin/view/customers/${this.props.match.params.id}`}>View Customer Profile</Button>\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>Booking ID</th>\n                            <th>Booked Time</th>\n                            <th>Pickup Time</th>\n                            <th>Return Time</th>\n                            <th>Car</th>\n                            <th>Cost</th>\n                            <th>Location</th>\n                            <th>Address</th>\n                            <th>Status</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.state.bookings.map(booking =>\n                            <tr>\n                                <td>{booking.id}</td>\n                                <td>{booking.bookedtime}</td>\n                                <td>{booking.pickuptime}</td>\n                                <td>{booking.returntime}</td>\n                                <td>\n                                    {this.state.cars.map(car =>\n                                        <>\n                                            {car.id === booking.car &&\n                                                <>\n                                                    <a href={`/admin/view/cars/${booking.car}`}>{car.make}</a>\n                                                </>\n                                            }\n                                        </>\n                                    )}\n                                </td>\n                                <td>${booking.cost}</td>\n                                <td>\n                                    {this.state.locations.map(location =>\n                                        <>\n                                            {location.id === booking.location &&\n                                                <>\n                                                    <a href={`/admin/view/location/${booking.location}`}>{location.name}</a>\n                                                </>\n                                            }\n                                        </>\n                                    )}\n                                </td>\n                                <td>\n                                    {this.state.locations.map(location =>\n                                        <>\n                                            {location.id === booking.location &&\n                                                <>\n                                                    {location.address}\n                                                </>\n                                            }\n                                        </>\n                                    )}\n                                </td>\n                                <td>{booking.status}</td>\n                                <td>\n                                    <Button href={`/admin/view/bookings/${booking.id}`}>View</Button>\n                                </td>\n                            </tr>\n                        )}\n                    </tbody>\n                </Table>\n            </div>\n        )\n    }\n}\n","/* View all cars page */\nimport React, { Component } from 'react';\nimport { Container, Table, Alert } from 'react-bootstrap';\nimport CarServiceApi from '../../api/CarServiceApi';\nimport LocationServiceApi from '../../api/LocationServiceApi';\nimport { withRouter } from 'react-router-dom';\n\nclass ViewAllCars extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            cars: [],\n            errorMessage: ''\n        };\n        this.viewCarDetails = this.viewCarDetails.bind(this);\n    }\n\n    viewCarDetails(id) {\n        this.props.history.push(`/admin/view/cars/${id}`);\n    }\n\n    componentDidMount() {\n        // fetch all cars\n        CarServiceApi.getAllCars().then(res => {\n            res.data.cars.forEach(car => {\n                // fetch location details for each car\n                LocationServiceApi.getLocationFromId(car.location).then(res => {\n                    car.location = res.data.name;\n                    car.locationId = res.data._id;\n                    this.state.cars.push(car);\n                    this.setState({\n                        cars: this.state.cars\n                    });\n                });\n            });\n        }).catch((error) => {\n            this.setState({ errorMessage: error.response.data.message });\n        });\n    }\n\n    render() {\n        return (\n            <Container>\n                <h2>All cars, click row to view/modify.</h2>\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error Getting all cars!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>id</th>\n                            <th>make</th>\n                            <th>seats</th>\n                            <th>body type</th>\n                            <th>number plate</th>\n                            <th>colour</th>\n                            <th>cost per hour</th>\n                            <th>fuel type</th>\n                            <th>location</th>\n                            <th>image</th>\n                            <th>current booking</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            this.state.cars.map(car =>\n                                <tr style={{ 'cursor': 'pointer' }} key={car.id} onClick={() => this.viewCarDetails(car.id)}>\n                                    <td>{car.id}</td>\n                                    <td>{car.make}</td>\n                                    <td>{car.seats}</td>\n                                    <td>{car.bodytype}</td>\n                                    <td>{car.numberplate}</td>\n                                    <td>{car.colour}</td>\n                                    <td>{car.costperhour}</td>\n                                    <td>{car.fueltype}</td>\n                                    <td>{car.location}</td>\n                                    <td><img alt=\"car\" src={car.image} width={50} /></td>\n                                    <td>{(car.currentbooking === null) ? \"No booking\" : car.currentbooking}</td>\n                                </tr>\n                            )\n                        }\n                    </tbody>\n                </Table>\n            </Container>\n        )\n    }\n}\n\nexport default withRouter(ViewAllCars);\n","/* Modify car details page */\nimport React, { Component } from 'react'\nimport { Container, Button, Alert, Table, Form, Col, Row } from 'react-bootstrap'\nimport CarServiceApi from '../../api/CarServiceApi';\nimport LocationServiceApi from '../../api/LocationServiceApi';\nimport { CAR_COLOURS, CAR_BODY_TYPES, CAR_FUEL_TYPES, CAR_SEATS, FILE_UPLOAD_LIMIT } from '../../Constants.js';\n\nexport default class ModifyCarDetails extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            car: '',\n            locationList: [],\n            make: '',\n            seats: '',\n            bodytype: '',\n            numberplate: '',\n            colour: '',\n            costperhour: '',\n            fueltype: '',\n            location: '',\n            b64photo: '',\n            errMsg: '',\n            successMsg: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleFile = this.handleFile.bind(this);\n    }\n\n    handleFile = (event) => {\n        // handle file upload for car image\n        let files = event.target.files;\n        if (files !== null) {\n            // file size validation\n            if (event.target.files[0].size > FILE_UPLOAD_LIMIT) {\n                return this.setState({\n                    errMsg: 'Image exceeded upload size limit! Please try again with another image.'\n                });\n            }\n            let reader = new FileReader();\n            reader.readAsDataURL(files[0]);\n            reader.onload = (event) => {\n                this.setState({\n                    b64photo: event.target.result,\n                    errMsg: ''\n                });\n            };\n        }\n    }\n\n    inputValidation = () => {\n        const { make, seats, bodytype, numberplate,\n            colour, costperhour, fueltype, location, b64photo } = this.state;\n\n        if (make === '' || seats === '' || bodytype === '' || numberplate === ''\n            || colour === '' || costperhour === '' || fueltype === '' || location === '' || b64photo === '') {\n            this.setState({\n                errMsg: \"Please fill in everything\"\n            });\n            return false;\n        }\n        else {\n            this.setState({\n                errMsg: \"\"\n            });\n            return true;\n        }\n    }\n\n    handleSubmit(event) {\n        // modify car details handler\n        event.preventDefault();\n        if (!this.inputValidation()) {\n            return;\n        }\n        const { car } = this.state;\n        this.setState({\n            disableSubmit: true,\n        });\n        // create car object with modified values\n        let carDetails = {\n            _id: car._id,\n            make: this.state.make,\n            seats: this.state.seats,\n            bodytype: this.state.bodytype,\n            numberplate: this.state.numberplate,\n            colour: this.state.colour,\n            costperhour: this.state.costperhour,\n            fueltype: this.state.fueltype,\n            location: this.state.location,\n            image: this.state.b64photo\n        };\n        // publish modified car object to backend\n        CarServiceApi.updateCar(carDetails).then(res => {\n            this.setState({\n                successMsg: \"Car is successfully updated\",\n                disableSubmit: false,\n                errMsg: \"\"\n            });\n            this.getCar();\n            this.scrollTop();\n        }).catch(err => {\n            this.setState({\n                errMsg: err.response.data.message,\n                disableSubmit: false,\n                successMsg: \"\"\n            });\n        })\n    }\n\n    handleChange = (event) => {\n        this.setState({ [event.target.name]: event.target.value });\n    }\n\n    scrollTop() {\n        // scroll window to top\n        window.scrollTo({\n            top: 0,\n            behavior: \"smooth\"\n        });\n    }\n\n    getCar() {\n        CarServiceApi.getCar(this.props.match.params.id).then(res => {\n            const car = res.data.car;\n            LocationServiceApi.getLocationFromId(car.location).then(res => {\n                car.location = res.data.address;\n                car.locationId = res.data._id;\n                this.setState({\n                    car: car,\n                    make: car.make,\n                    numberplate: car.numberplate,\n                    costperhour: car.costperhour,\n                    seats: car.seats,\n                    colour: car.colour,\n                    bodytype: car.bodytype,\n                    location: car.locationId,\n                    fueltype: car.fueltype,\n                    b64photo: car.image\n                });\n            });\n        }).catch(err => {\n            this.setState({\n                errMsg: err.response\n            });\n        });\n    }\n\n    componentDidMount() {\n        this.getCar();\n\n        LocationServiceApi.getAllLocations().then((res) => {\n            res.data.map(location => this.setState({ locationList: this.state.locationList.concat(location) }));\n        }, (err) => {\n            this.setState({\n                errMsg: err.response\n            });\n        });\n    }\n\n    render() {\n        const { car } = this.state;\n\n        return (\n            <Container>\n                <h2>Car details:</h2>\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>id</th>\n                            <th>make</th>\n                            <th>seats</th>\n                            <th>body type</th>\n                            <th>number plate</th>\n                            <th>colour</th>\n                            <th>cost per hour</th>\n                            <th>fuel type</th>\n                            <th>location</th>\n                            <th>image</th>\n                            <th>current booking</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr key={car._id}>\n                            <td>{car._id}</td>\n                            <td>{car.make}</td>\n                            <td>{car.seats}</td>\n                            <td>{car.bodytype}</td>\n                            <td>{car.numberplate}</td>\n                            <td>{car.colour}</td>\n                            <td>{car.costperhour}</td>\n                            <td>{car.fueltype}</td>\n                            <td>{car.location}</td>\n                            <td><img alt=\"car\" src={car.image} width={50} /></td>\n                            <td>{(car.currentbooking === null) ? \"No booking\" : car.currentbooking}</td>\n                        </tr>\n                    </tbody>\n                </Table>\n\n                <h2>Modify details</h2>\n                {this.state.errMsg &&\n                    <Alert variant=\"danger\">\n                        <Alert.Heading>Modify car failed!</Alert.Heading>\n                        <p>\n                            {this.state.errMsg}\n                        </p>\n                    </Alert>\n                }\n\n                {this.state.successMsg &&\n                    <Alert variant=\"success\">\n                        <Alert.Heading>Modify car succeed!</Alert.Heading>\n                        <p>\n                            {this.state.successMsg}\n                        </p>\n                    </Alert>\n                }\n                <Form>\n                    <Form.Group as={Row} controlId=\"formHorizontalMake\">\n                        <Form.Label column sm={2}>\n                            Make\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"make\" type=\"make\" value={this.state.make} onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalSeats\">\n                        <Form.Label column sm={2}>\n                            Seats\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control as=\"select\" name=\"seats\" type=\"seats\" onChange={this.handleChange} required>\n                                {\n                                    CAR_SEATS.map((option, index) => {\n                                        const bool = option === car.seats\n                                        return (\n                                            (bool) ? <option key={index} value={option} selected>{option}</option> :\n                                                <option key={index} value={option}>{option}</option>\n                                        )\n                                    })\n                                }\n                            </Form.Control>\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalBodyType\">\n                        <Form.Label column sm={2}>\n                            Body type\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control as=\"select\" name=\"bodytype\" type=\"bodytype\" onChange={this.handleChange} required>\n                                {\n                                    CAR_BODY_TYPES.map((option, index) => {\n                                        const bool = option === car.bodytype\n                                        return (\n                                            (bool) ? <option key={index} value={option} selected>{option}</option> :\n                                                <option key={index} value={option}>{option}</option>\n                                        )\n                                    })\n                                }\n                            </Form.Control>\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalNumberPlate\">\n                        <Form.Label column sm={2}>\n                            Number Plate\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"numberplate\" type=\"numberplate\" value={this.state.numberplate} onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalColour\">\n                        <Form.Label column sm={2}>\n                            Colour\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control as=\"select\" name=\"colour\" type=\"colour\" onChange={this.handleChange} required>\n                                <option disabled selected>Select colour</option>\n                                {\n                                    CAR_COLOURS.map((option, index) => {\n                                        const bool = option === car.colour\n                                        return (\n                                            (bool) ? <option key={index} value={option} selected>{option}</option> :\n                                                <option key={index} value={option}>{option}</option>\n                                        )\n                                    })\n                                }\n                            </Form.Control>\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalCostPerHour\">\n                        <Form.Label column sm={2}>\n                            Cost per hour\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"costperhour\" type=\"number\" value={this.state.costperhour} onChange={this.handleChange} required />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalFuelType\">\n                        <Form.Label column sm={2}>\n                            Fuel type\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control as=\"select\" name=\"fueltype\" type=\"fueltype\" onChange={this.handleChange} required>\n                                <option disabled selected>Select fuel type</option>\n                                {\n                                    CAR_FUEL_TYPES.map((option, index) => {\n                                        const bool = option === car.fueltype\n                                        return (\n                                            (bool) ? <option key={index} value={option} selected>{option}</option> :\n                                                <option key={index} value={option}>{option}</option>\n                                        )\n                                    })\n                                }\n                            </Form.Control>\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalLocation\">\n                        <Form.Label column sm={2}>\n                            Location\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control as=\"select\" name=\"location\" type=\"location\" onChange={this.handleChange} required>\n                                <option disabled selected>Select location</option>l\n                                {\n                                    this.state.locationList.map((option, index) => {\n                                        const bool = option.address === car.location\n                                        return (\n                                            (bool) ? <option key={index} value={option._id} selected>{option.address}</option> :\n                                                <option key={index} value={option._id}>{option.address}</option>\n                                        )\n                                    })\n                                }\n                            </Form.Control>\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalLocation\">\n                        <Form.Label column sm={2}>\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.File\n                                id=\"custom-file\"\n                                label=\"Car Image (4MB max)\"\n                                name=\"b64photo\"\n                                accept=\"image/*\"\n                                onChange={this.handleFile}\n                            />\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row}>\n                        <Col sm={{ span: 10, offset: 2 }}>\n                            <Button onClick={this.handleSubmit} disabled={this.state.disableSubmit}>Update Car</Button>\n                        </Col>\n                    </Form.Group>\n                </Form>\n            </Container>\n        )\n    }\n}\n","/* View all locations page */\nimport React, { Component } from 'react';\nimport { Container, Table, Alert, Button } from 'react-bootstrap';\nimport LocationServiceApi from '../../api/LocationServiceApi';\n\nexport default class ViewAllLocations extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            locations: [],\n            errorMessage: ''\n        };\n    }\n\n    componentDidMount() {\n        // get all locations\n        LocationServiceApi.getAllLocations().then(res => {\n            this.setState({\n                locations: res.data\n            });\n        }).catch(error => {\n            this.setState({\n                errorMessage: error.response\n            });\n        });\n    }\n\n    render() {\n        return (\n            <Container>\n                <h2>All locations, click to view details</h2>\n                {this.state.errorMessage && <Alert variant=\"danger\">\n                    <Alert.Heading>Error Getting all cars!</Alert.Heading>\n                    <p>\n                        {this.state.errorMessage}\n                    </p>\n                </Alert>}\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>id</th>\n                            <th>name</th>\n                            <th>address</th>\n                            <th></th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            this.state.locations.map(location =>\n                                <tr style={{ 'cursor': 'pointer' }} key={location._id}>\n                                    <td>{location._id}</td>\n                                    <td>{location.name}</td>\n                                    <td>{location.address}</td>\n                                    <td><Button href={`/admin/modify/location/${location._id}`}>Modify</Button></td>\n                                    <td><Button href={`/admin/view/location/${location._id}`}>View</Button></td>\n                                </tr>\n                            )\n                        }\n                    </tbody>\n                </Table>\n            </Container>\n        )\n    }\n}\n","/* View location page */\nimport React, { Component } from 'react';\nimport { Container, Button, Alert, Table, Col, Row } from 'react-bootstrap';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport LocationServiceApi from '../../api/LocationServiceApi';\nimport CarServiceApi from '../../api/CarServiceApi';\n\nclass ViewLocation extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            location: '',\n            errMessage: '',\n            cars: [],\n            successMessage: '',\n            activeMarker: {},\n            showingInfoWindow: false,\n            selectedPlace: {},\n            isLoading: false\n        };\n    }\n\n    componentDidMount() {\n        if (this.props.location.state !== undefined) {\n            this.setState({\n                successMessage: this.props.location.state.success\n            });\n        }\n        // fetch location details by id\n        LocationServiceApi.getLocationFromId(this.props.match.params.id).then(res => {\n            LocationServiceApi.getGeocodeFromAddress(res.data.address)\n                .then(newRes => {\n                    // Create object with address, latitude and longitude\n                    let locationObject = {\n                        id: res.data._id,\n                        address: res.data.address,\n                        name: res.data.name,\n                        lat: newRes.data.results[0].geometry.location.lat,\n                        lng: newRes.data.results[0].geometry.location.lng,\n                        cars: res.data.cars\n                    };\n                    // set new location object to react state array\n                    this.setState({\n                        location: locationObject,\n                        isLoading: true\n                    });\n                });\n            res.data.cars.forEach(carId => {\n                CarServiceApi.getCar(carId).then(res => {\n                    this.state.cars.push(res.data.car);\n                    this.setState({\n                        cars: this.state.cars\n                    });\n                });\n            });\n        }).catch(err => {\n            this.setState({\n                errMessage: err.response\n            });\n        });\n    }\n\n    mapOnMarkerClick = (props, marker) =>\n        this.setState({\n            selectedPlace: props,\n            activeMarker: marker,\n            showingInfoWindow: true,\n        });\n\n    mapOnMapClick = () =>\n        this.setState({\n            showingInfoWindow: false,\n            selectedPlace: {},\n            activeMarker: {}\n        });\n\n    render() {\n        const { location } = this.state;\n\n        return (\n            <Container>\n                {this.state.successMessage &&\n                    <Alert variant=\"success\">\n                        <Alert.Heading>Add car succeed!</Alert.Heading>\n                        <p>\n                            {this.state.successMessage}\n                        </p>\n                    </Alert>\n                }\n                <h2>Location details:</h2>\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>id</th>\n                            <th>name</th>\n                            <th>address</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>{location.id}</td>\n                            <td>{location.name}</td>\n                            <td>{location.address}</td>\n                            <td><Button href={`/admin/modify/location/${location.id}`}>Modify</Button></td>\n                        </tr>\n                    </tbody>\n                </Table>\n                <Container>\n                    {this.state.isLoading && <div style={{ height: '400px' }}>\n                        <Map google={this.props.google}\n                            initialCenter={{\n                                lat: this.state.location.lat,\n                                lng: this.state.location.lng\n                            }}\n                            style={{ height: '400px', width: '50%' }}\n                            zoom={14}\n                            onClick={this.mapOnMapClick}>\n\n                            <Marker\n                                id={this.state.location.id}\n                                name={this.state.location.name}\n                                address={this.state.location.address}\n                                onClick={this.mapOnMarkerClick}\n                                position={{ lat: this.state.location.lat, lng: this.state.location.lng }}\n                            />\n\n                            <InfoWindow\n                                onClose={this.onInfoWindowClose}\n                                marker={this.state.activeMarker}\n                                visible={this.state.showingInfoWindow}>\n                                <div id=\"info-window\">\n                                    <h2>{this.state.selectedPlace.name}</h2>\n                                    <p>{this.state.selectedPlace.address}</p>\n                                    <a href={\"/locations/\" + this.state.selectedPlace.id}>Check out this location</a>\n                                </div>\n                            </InfoWindow>\n                        </Map>\n                    </div>}\n                </Container>\n                <h2>Cars here:</h2>\n                <Row>\n                    {this.state.cars.length !== 0 ? this.state.cars.map(car =>\n                        <CarDescriptionComponent car={car} />\n                    ) : <Col>Garage empty</Col>}\n                </Row>\n            </Container>\n        )\n    }\n}\n\nfunction CarDescriptionComponent(props) {\n    // car description component card\n    const { car } = props\n    return (\n        <Col sm={4}>\n            <div className=\"cars-div-white\" style={{ 'border': 'solid black 2px' }}>\n                <img src={car.image} alt=\"car\" width=\"100\" />\n                <h2 style={{ marginTop: '1vh' }}>{car.make}</h2>\n                <p>{car.fueltype}, {car.bodytype}, {car.seats} seaters, {car.colour}</p>\n                <h5>${car.costperhour} per hour</h5>\n                <h5>Number Plate: {car.numberplate}</h5>\n                <a href={`/admin/view/cars/${car._id}`}><b>Car ID: </b>{car._id}</a>\n            </div>\n        </Col>\n    );\n}\n\nexport default GoogleApiWrapper({\n    apiKey: process.env.REACT_APP_API_KEY\n})(ViewLocation);\n","/* Modify location page */\nimport React, { Component } from 'react';\nimport { Alert, Button, Form, Container, Col, Row } from 'react-bootstrap';\nimport LocationServiceApi from '../../api/LocationServiceApi';\nimport PlacesAutocomplete from 'react-places-autocomplete';\nimport { withRouter } from 'react-router-dom';\n\nclass modifyLocationPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            location: '',\n            address: '',\n            name: '',\n            errMsg: '',\n            gmapsLoaded: false,\n            successMsg: '',\n            disableSubmit: false\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleAutocomplete = this.handleAutocomplete.bind(this);\n    }\n\n    initMap = () => {\n        this.setState({\n          gmapsLoaded: true,\n        });\n    }\n\n    handleAutocomplete = address => {\n        this.setState({ address });\n    }\n\n    componentDidMount() {\n        // initialise address autocomplete api\n        window.initMap = this.initMap;\n        const gmapScriptEl = document.createElement(`script`);\n        gmapScriptEl.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.REACT_APP_API_KEY}&libraries=places&callback=initMap`;\n        document.querySelector(`body`).insertAdjacentElement(`beforeend`, gmapScriptEl);\n        LocationServiceApi.getLocationFromId(this.props.match.params.id).then(res => {\n            this.setState({\n                address: res.data.address,\n                name: res.data.name,\n                location: res.data\n            })\n        }).catch(err => {\n            this.setState({\n                errMsg: err.response\n            })\n        })\n    }\n\n    handleSubmit() {\n        // modify location object handler\n        // input validation\n        if(this.state.name === '') {\n            this.setState({\n                errMsg: \"name can't be empty\"\n            });\n            return;\n        }\n\n        this.setState({\n            disableSubmit: true\n        });\n        \n        // create modified location object\n        let location = {\n            _id: this.state.location._id,\n            name: this.state.name,\n            address: this.state.address,\n            cars: this.state.location.cars\n        };\n\n        // publish modified location object to backend\n        LocationServiceApi.updateLocation(location).then(res => {\n            this.props.history.push(`/admin/view/location/${location._id}`, {success: \"Successfully updated location\"});\n        }).catch(err => {\n            this.setState({\n                errMsg: err.response.data.message,\n                disableSubmit: false,\n                successMsg: \"\"\n            });\n        });\n    }\n\n    handleChange = event => {\n        this.setState({[event.target.name] : event.target.value});\n    }\n\n    render() {\n        return (\n            <Container>\n                <h2>Modify Location Details</h2>\n                <strong>Location ID:</strong> {this.state.location._id} <br></br>\n                \n                {this.state.errMsg && \n                    <Alert variant=\"danger\">\n                        <Alert.Heading>Modify location failed!</Alert.Heading>\n                        <p>\n                            {this.state.errMsg}\n                        </p>\n                    </Alert>\n                }\n\n                <Form>\n                    <Form.Group as={Row} controlId=\"formHorizontalFirstName\">\n                        <Form.Label column sm={2}>\n                            Name\n                        </Form.Label>\n                        <Col sm={10}>\n                            <Form.Control name=\"name\" type=\"text\" value={this.state.name} onChange={this.handleChange} required/>\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row} controlId=\"formHorizontalName\">\n                        <Form.Label column sm={2}>\n                            Enter Address\n                        </Form.Label>\n                        <Col sm={10}>\n                        { this.state.gmapsLoaded &&\n                            <PlacesAutocomplete\n                                value={this.state.address}\n                                onChange={this.handleAutocomplete}\n                                onSelect={this.handleSelect}\n                            >\n                                {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n                                <div>\n                                    <Form.Control\n                                    {...getInputProps({\n                                        placeholder: 'Search Places ...',\n                                        className: 'location-search-input',\n                                        required: true\n                                    })}\n                                    />\n                                    <div className=\"autocomplete-dropdown-container\">\n                                    {loading && <div>Loading...</div>}\n                                    {suggestions.map(suggestion => {\n                                        const className = suggestion.active\n                                        ? 'suggestion-item--active'\n                                        : 'suggestion-item';\n                                        // inline style for demonstration purpose\n                                        const style = suggestion.active\n                                        ? { backgroundColor: '#fafafa', cursor: 'pointer' }\n                                        : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                                        return (\n                                        <div\n                                            {...getSuggestionItemProps(suggestion, {\n                                            className,\n                                            style,\n                                            })}\n                                        >\n                                            <span>{suggestion.description}</span>\n                                        </div>\n                                        );\n                                    })}\n                                    </div>\n                                </div>\n                                )}\n                            </PlacesAutocomplete>\n                        }\n                        </Col>\n                    </Form.Group>\n                    <Form.Group as={Row}>\n                        <Col sm={{ span: 10, offset: 2 }}>\n                            <Button onClick={this.handleSubmit} disabled={this.state.disableSubmit}>Update Location</Button>\n                        </Col>\n                    </Form.Group>\n                </Form>\n            </Container>\n        )\n    }\n}\n\nexport default withRouter(modifyLocationPage);\n","/* App router */\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Header from './components/header';\nimport LandingPage from './components/landing';\nimport SignUpPage from './components/signup';\nimport LoginPage from './components/login';\nimport MapContainer from './components/map';\nimport UserServiceApi from './api/UserServiceApi';\nimport AuthenticatedRoute from './AuthenticatedRoute';\nimport StaffRoute from './StaffRoute.jsx'\nimport LocationShowPage from './components/locationShow';\nimport Footer from './components/footer';\nimport FilterCarsPage from './components/bookingComponents/filterCars';\nimport BookingDashboard from './components/bookingComponents/bookingDashboard';\nimport MyBookingPage from './components/bookingComponents/myBookings';\nimport BookingDetailsPage from './components/bookingComponents/bookingDetails';\nimport MyProfilePage from './components/myProfile';\n\n/* Import admin and staff components */\nimport Overview from './components/staffComponents/overview';\nimport AdminSignUpPage from './components/adminComponents/adminSignup';\nimport CreateCar from './components/staffComponents/createCar';\nimport CreateLocation from './components/staffComponents/createLocation';\nimport ViewAllCustomersPage from './components/staffComponents/viewAllCustomers';\nimport ViewCustomerPage from './components/staffComponents/viewCustomer';\nimport ModifyCustomerDetailsPage from './components/staffComponents/modifyCustomerDetails';\nimport ViewAllBookingsPage from './components/staffComponents/viewAllBookings';\nimport ViewBookingPage from './components/staffComponents/viewBooking';\nimport ViewCustomerBookingsPage from './components/staffComponents/viewCustomerBookings';\nimport ViewAllCarsPage from './components/staffComponents/viewAllCars';\nimport ModifyCarDetailsPage from './components/staffComponents/modifyCarDetails';\nimport ViewAllLocations from './components/staffComponents/viewAllLocations';\nimport ViewLocation from './components/staffComponents/ViewLocation';\nimport ModifyLocationPage from './components/staffComponents/modifyLocationPage';\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    availableCars: [],\n    pickupTime: \"\",\n    returnTime: \"\"\n  };\n\n  updateCars(availableCars, pickupTime, returnTime) {\n    this.setState({\n      availableCars: availableCars,\n      pickupTime: pickupTime,\n      returnTime: returnTime\n    });\n  }\n\n  componentDidMount() {\n    if (UserServiceApi.isUserLoggedIn()) {\n      UserServiceApi.setupAxiosInterceptors(UserServiceApi.getUserToken());\n    }\n  }\n\n  render() {\n    const { availableCars, pickupTime, returnTime } = this.state;\n    const isUserStaff = UserServiceApi.isUserStaff();\n    return (\n      <Router>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={LandingPage} />\n          <Route path=\"/signup\" component={SignUpPage} />\n          <Route path=\"/login\" component={LoginPage} />\n          <Route path=\"/locations/:id\" component={LocationShowPage} />\n          <Route path=\"/locations\" component={MapContainer} />\n          {/* Customers only routes */}\n          {!isUserStaff && <AuthenticatedRoute path=\"/filter\" component={(props) => <FilterCarsPage {...props}\n            availableCars={availableCars}\n            pickupTime={pickupTime}\n            returnTime={returnTime} />} />}\n          {!isUserStaff && <AuthenticatedRoute path=\"/dashboard\" component={(props) => <BookingDashboard {...props}\n            updateCars={this.updateCars.bind(this)} />} />}\n          {!isUserStaff && <AuthenticatedRoute path=\"/mybookings/:id\" component={BookingDetailsPage} />}\n          {!isUserStaff && <AuthenticatedRoute path=\"/mybookings\" component={MyBookingPage} />}\n          {!isUserStaff && <AuthenticatedRoute path=\"/myprofile\" component={MyProfilePage} />}\n          {/* Staff and admin only routes */}\n          <StaffRoute path=\"/staff\" component={Overview} />\n          <StaffRoute path=\"/admin/signup\" component={AdminSignUpPage} />\n          <StaffRoute path=\"/admin/addcars\" component={CreateCar} />\n          <StaffRoute path=\"/admin/addlocation\" component={CreateLocation} />\n          <StaffRoute path=\"/admin/view/customers/:id/bookings\" component={ViewCustomerBookingsPage} />\n          <StaffRoute path=\"/admin/view/customers/:id\" component={ViewCustomerPage} />\n          <StaffRoute path=\"/admin/view/customers\" component={ViewAllCustomersPage} />\n          <StaffRoute path=\"/admin/view/bookings/:id\" component={ViewBookingPage} />\n          <StaffRoute path=\"/admin/view/bookings\" component={ViewAllBookingsPage} />\n          <StaffRoute path=\"/admin/modify/customers/:id\" component={ModifyCustomerDetailsPage} />\n          <StaffRoute path=\"/admin/view/cars/:id\" component={ModifyCarDetailsPage} />\n          <StaffRoute path=\"/admin/view/cars\" component={ViewAllCarsPage} />\n          <StaffRoute path=\"/admin/modify/location/:id\" component={ModifyLocationPage} />\n          <StaffRoute path=\"/admin/view/location/:id\" component={ViewLocation} />\n          <StaffRoute path=\"/admin/view/location\" component={ViewAllLocations} />\n        </Switch>\n        <Footer />\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nrequire('dotenv').config();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","/* Car service APIs */\nimport axios from 'axios';\nrequire('dotenv').config();\nconst api_url = process.env.server_url || \"http://localhost:3001/api/cars\";\n\nclass CarServiceApi {\n    createNewCar(newCar) {\n        return axios.post(api_url, newCar);\n    }\n\n    getAllCars() {\n        return axios.get(api_url);\n    }\n\n    getCar(carId) {\n        return axios.get(`${api_url}/${carId}`);\n    }\n\n    searchAvailableCars(search) {\n        return axios.post(api_url + '/availability', search);\n    }\n\n    filterCars(filter) {\n        return axios.post(api_url + '/filter', filter);\n    }\n\n    updateCar(car) {\n        return axios.patch(api_url + `/${car._id}`, car);\n    }\n}\n\nexport default new CarServiceApi();\n"],"sourceRoot":""}